{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, Teleport as _Teleport, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, vShow as _vShow } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"absolute pointer-events-none\",\n  style: {\n    left: '-16px',\n    top: '-120px',\n    width: '20px',\n    height: '140px',\n    borderLeft: '2px solid #E2E2E2 ',\n    borderBottom: '2px solid #E2E2E2',\n    borderBottomLeftRadius: '16px'\n  }\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"mt-2 flex flex-wrap gap-2\"\n};\nconst _hoisted_5 = {\n  class: \"flex-1\"\n};\nconst _hoisted_6 = {\n  class: \"bg-gray-100 rounded-xl px-2 py-2 shadow-sm max-w-xs pl-3 z-50\"\n};\nconst _hoisted_7 = {\n  class: \"text-sm font-semibold text-gray-900 w-full\"\n};\nconst _hoisted_8 = {\n  class: \"font-normal text-gray-500 ml-1\"\n};\nconst _hoisted_9 = {\n  class: \"text-sm text-gray-500 whitespace-pre-wrap break-words\"\n};\nconst _hoisted_10 = {\n  class: \"flex items-center gap-4 text-xs text-gray-600 mt-2 ml-3\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"font-medium\"\n};\nconst _hoisted_12 = {\n  key: 1\n};\nconst _hoisted_13 = {\n  class: \"relative\"\n};\nconst _hoisted_14 = {\n  class: \"py-2 text-gray-700 font-semibold\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"flex-1 ml-12 mb-3\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"mt-4\"\n};\nconst _hoisted_17 = {\n  class: \"flex items-center gap-3 bg-white border border-gray-200 rounded-full px-4 py-2 shadow-md\"\n};\nconst _hoisted_18 = {\n  class: \"text-GRAY-200 text-sm font-medium\"\n};\nconst _hoisted_19 = [\"disabled\"];\nexport function render(_ctx, _cache) {\n  const _component_Icon = _resolveComponent(\"Icon\");\n  const _component_CommentCard = _resolveComponent(\"CommentCard\", true);\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Main Comment Row \"), _createElementVNode(\"div\", {\n    class: \"relative flex gap-3 mb-4\",\n    style: _normalizeStyle({\n      marginLeft: _ctx.depth * 32 + 'px'\n    })\n  }, [_createCommentVNode(\" Curved  Line Connector \"), _ctx.depth > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Avatar \"), _createElementVNode(\"img\", {\n    src: _ctx.localComment.avatar,\n    alt: \"User avatar\",\n    class: \"w-10 h-10 rounded-full object-cover flex-shrink-0 z-10 shadow-sm\"\n  }, null, 8 /* PROPS */, _hoisted_3), _createCommentVNode(\" Comment Body \"), _createCommentVNode(\" Comment Media (Images/Videos) \"), _ctx.comment.media?.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.comment.media, (media, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: i,\n      class: \"rounded-lg overflow-hidden border shadow-sm\"\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(media.type.startsWith('video') ? 'video' : 'img'), {\n      src: media.url,\n      class: \"max-w-64 max-h-64 object-cover rounded-lg\",\n      controls: \"\",\n      playsinline: \"\",\n      muted: \"\"\n    }, null, 8 /* PROPS */, [\"src\"]))]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" Bubble \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" Username \"), _createElementVNode(\"p\", _hoisted_7, [_createTextVNode(_toDisplayString(_ctx.localComment.user) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_ctx.localComment.time || 'Just now'), 1 /* TEXT */)]), _createCommentVNode(\" Time \"), _createCommentVNode(\" Comment Text \"), _createElementVNode(\"p\", _hoisted_9, _toDisplayString(_ctx.localComment.text), 1 /* TEXT */)]), _createCommentVNode(\" Actions \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.toggleLike && _ctx.toggleLike(...args)),\n    class: _normalizeClass([\"flex items-center gap-1 hover:text-red-500 transition\", {\n      'text-red-500': _ctx.localComment.liked\n    }])\n  }, [_createVNode(_component_Icon, {\n    icon: _ctx.localComment.liked ? 'solar:heart-bold' : 'solar:heart-linear',\n    class: \"w-5 h-5\"\n  }, null, 8 /* PROPS */, [\"icon\"]), _ctx.localComment.likes > 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, _toDisplayString(_ctx.localComment.likes), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12))], 2 /* CLASS */), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.replyOpen = !_ctx.replyOpen),\n    class: \"hover:text-blue-600 transition\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"uil:comment\",\n    class: \"w-5 h-5\"\n  })]), _createElementVNode(\"div\", _hoisted_13, [_createCommentVNode(\" Three-dot button \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => _ctx.toggleDots && _ctx.toggleDots(...args), [\"stop\"]))\n  }, [_createVNode(_component_Icon, {\n    icon: \"bi:three-dots\",\n    class: \"w-5 h-5\"\n  })]), _createCommentVNode(\" Popup using teleport \"), (_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [_ctx.open ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    ref: \"popup\",\n    class: \"absolute bg-white border rounded-xl shadow-lg z-50\",\n    style: _normalizeStyle(_ctx.popupStyle)\n  }, [_createElementVNode(\"ul\", _hoisted_14, [_createElementVNode(\"li\", {\n    onClick: _cache[3] || (_cache[3] = $event => _ctx.startEditPost(_ctx.index)),\n    class: \"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-50 cursor-pointer\"\n  }, \" Edit \"), _createElementVNode(\"li\", {\n    onClick: _cache[4] || (_cache[4] = $event => _ctx.hide(_ctx.index)),\n    class: \"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-100 cursor-pointer\"\n  }, \" Hide \"), _createElementVNode(\"li\", {\n    onClick: _cache[5] || (_cache[5] = $event => _ctx.report(_ctx.index)),\n    class: \"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-200 cursor-pointer\"\n  }, \" Report \"), _createElementVNode(\"li\", {\n    onClick: _cache[6] || (_cache[6] = $event => _ctx.confirmDelete(_ctx.index)),\n    class: \"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-200 text-red-600 cursor-pointer\"\n  }, \" Delete \")])], 4 /* STYLE */)) : _createCommentVNode(\"v-if\", true)]))])]), _createCommentVNode(\" Show Hide Replies Toggle \"), _ctx.totalReplies > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = $event => _ctx.showReplies = !_ctx.showReplies),\n    class: \"absolute text-xs font-medium text-gray-600 hover:underline transition\"\n  }, _toDisplayString(_ctx.showReplies ? 'Hide' : 'View') + \" \" + _toDisplayString(_ctx.totalReplies) + \" \" + _toDisplayString(_ctx.totalReplies === 1 ? 'reply' : 'replies'), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Reply Input Box \"), _createVNode(_Transition, {\n    name: \"fade\"\n  }, {\n    default: _withCtx(() => [_ctx.replyOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"button\", null, [_createVNode(_component_Icon, {\n      icon: \"solar:camera-broken\",\n      class: \"w-5 h-5\"\n    })]), _createElementVNode(\"span\", _hoisted_18, \" @\" + _toDisplayString(_ctx.localComment.user), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _ctx.replyText = $event),\n      onKeyup: _cache[9] || (_cache[9] = _withKeys((...args) => _ctx.submitReply && _ctx.submitReply(...args), [\"enter\"])),\n      ref: \"replyInput\",\n      class: \"flex-1 bg-transparent outline-none text-sm placeholder-gray-400\",\n      placeholder: \"Write a reply...\"\n    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, _ctx.replyText]]), _createElementVNode(\"button\", {\n      onClick: _cache[10] || (_cache[10] = (...args) => _ctx.submitReply && _ctx.submitReply(...args)),\n      disabled: !_ctx.replyText.trim(),\n      class: \"text-blue-500 disabled:text-gray-300 transition\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"solar:paper-plane-bold\",\n      class: \"w-5 h-5\"\n    })], 8 /* PROPS */, _hoisted_19), _createCommentVNode(\"-Iamge Upolod \"), _createElementVNode(\"button\", null, [_createVNode(_component_Icon, {\n      icon: \"lucide:smile\",\n      class: \"w-5 h-5\"\n    })]), _createCommentVNode(\"-Sent Button icon\"), _createElementVNode(\"button\", null, [_createVNode(_component_Icon, {\n      icon: \"eva:paper-plane-fill\",\n      class: \"w-5 h-5\"\n    })])])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])], 4 /* STYLE */), _createCommentVNode(\" Recursive Replies \"), _createVNode(_Transition, {\n    name: \"slide\",\n    persisted: \"\"\n  }, {\n    default: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.localComment.replies, reply => {\n      return _openBlock(), _createBlock(_component_CommentCard, {\n        key: reply.id || reply.time,\n        comment: reply,\n        depth: _ctx.depth + 1,\n        \"current-user\": _ctx.currentUser,\n        onReplyAdded: _ctx.onReplyAdded\n      }, null, 8 /* PROPS */, [\"comment\", \"depth\", \"current-user\", \"onReplyAdded\"]);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vShow, _ctx.showReplies && _ctx.totalReplies > 0]])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_normalizeStyle","marginLeft","_ctx","depth","_hoisted_2","src","localComment","avatar","alt","comment","media","length","_hoisted_4","_Fragment","_renderList","i","key","_createBlock","_resolveDynamicComponent","type","startsWith","url","controls","playsinline","muted","_hoisted_5","_hoisted_6","_hoisted_7","user","_hoisted_8","_toDisplayString","time","_hoisted_9","text","_hoisted_10","onClick","_cache","args","toggleLike","_normalizeClass","liked","_createVNode","_component_Icon","icon","likes","_hoisted_11","_hoisted_12","$event","replyOpen","_hoisted_13","_withModifiers","toggleDots","_Teleport","to","open","ref","popupStyle","_hoisted_14","startEditPost","index","hide","report","confirmDelete","totalReplies","_hoisted_15","showReplies","_Transition","name","_hoisted_16","_hoisted_17","_hoisted_18","replyText","onKeyup","_withKeys","submitReply","placeholder","disabled","trim","persisted","replies","reply","_component_CommentCard","id","currentUser","onReplyAdded"],"sources":["D:\\login-feed\\src\\components\\CommentCard.vue"],"sourcesContent":["<template>\r\n  <div class=\"relative\">\r\n    <!-- Main Comment Row -->\r\n    <div\r\n      class=\"relative flex gap-3 mb-4\"\r\n      :style=\"{ marginLeft: depth * 32 + 'px' }\">\r\n      <!-- Curved  Line Connector -->\r\n      <div\r\n        v-if=\"depth > 0\"\r\n        class=\"absolute pointer-events-none\"\r\n        :style=\"{\r\n          left: '-16px',\r\n          top: '-120px',\r\n          width: '20px',\r\n          height: '140px',\r\n          borderLeft: '2px solid #E2E2E2 ',\r\n          borderBottom: '2px solid #E2E2E2',\r\n          borderBottomLeftRadius: '16px'\r\n        }\"/>\r\n\r\n      <!-- Avatar -->\r\n      <img\r\n        :src=\"localComment.avatar\"\r\n        alt=\"User avatar\"\r\n        class=\"w-10 h-10 rounded-full object-cover flex-shrink-0 z-10 shadow-sm\"/>\r\n\r\n<!-- Comment Body -->\r\n\r\n\r\n\r\n<!-- Comment Media (Images/Videos) -->\r\n<div v-if=\"comment.media?.length\" class=\"mt-2 flex flex-wrap gap-2\">\r\n  <div\r\n    v-for=\"(media, i) in comment.media\"\r\n    :key=\"i\"\r\n    class=\"rounded-lg overflow-hidden border shadow-sm\">\r\n    <component\r\n  :is=\"media.type.startsWith('video') ? 'video' : 'img'\"\r\n  :src=\"media.url\"\r\n  class=\"max-w-64 max-h-64 object-cover rounded-lg\"\r\n  controls\r\n  playsinline\r\n  muted />\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n      <div class=\"flex-1 \">\r\n        \r\n        <!-- Bubble -->\r\n        <div class=\"bg-gray-100 rounded-xl  px-2 py-2 shadow-sm max-w-xs pl-3 z-50\">\r\n          <!-- Username -->\r\n          <p class=\"text-sm font-semibold text-gray-900 w-full\">\r\n            {{ localComment.user  }} \r\n             \r\n            <span class=\"font-normal text-gray-500 ml-1\">\r\n              {{ localComment.time || 'Just now' }}</span>\r\n          </p>\r\n            <!-- Time -->\r\n          \r\n  \r\n        \r\n\r\n        \r\n          <!-- Comment Text -->\r\n          <p class=\"text-sm  text-gray-500  whitespace-pre-wrap break-words\">\r\n          {{ localComment.text }}\r\n          </p>\r\n\r\n\r\n        \r\n\r\n        </div>\r\n\r\n        <!-- Actions -->\r\n        <div class=\"flex items-center gap-4 text-xs text-gray-600 mt-2 ml-3\">\r\n          <button\r\n            @click=\"toggleLike\"\r\n            class=\"flex items-center gap-1 hover:text-red-500 transition\"\r\n            :class=\"{ 'text-red-500': localComment.liked }\">\r\n            <Icon\r\n              :icon=\"localComment.liked ? 'solar:heart-bold' : 'solar:heart-linear'\"\r\n              class=\"w-5 h-5\"/>\r\n\r\n\r\n            <span v-if=\"localComment.likes > 0\" class=\"font-medium\">\r\n              {{ localComment.likes }}\r\n            </span>\r\n            <span v-else></span>\r\n          </button>\r\n\r\n          <button\r\n            @click=\"replyOpen = !replyOpen\"\r\n            class=\"hover:text-blue-600 transition\">\r\n            <Icon icon=\"uil:comment\" class=\"w-5 h-5\"/>\r\n        \r\n          </button>\r\n\r\n <div class=\"relative\">\r\n    <!-- Three-dot button -->\r\n    <button @click.stop=\"toggleDots\">\r\n      <Icon icon=\"bi:three-dots\" class=\"w-5 h-5\" />\r\n    </button>\r\n\r\n    <!-- Popup using teleport -->\r\n    <teleport to=\"body\">\r\n      <div\r\n        v-if=\"open\"\r\n        ref=\"popup\"\r\n        class=\"absolute bg-white border rounded-xl shadow-lg z-50\"\r\n        :style=\"popupStyle\"\r\n      >\r\n        <ul class=\"py-2 text-gray-700 font-semibold\">\r\n          <li\r\n            @click=\"startEditPost(index)\"\r\n            class=\"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-50 cursor-pointer\"\r\n          >\r\n            Edit\r\n          </li>\r\n\r\n          <li\r\n            @click=\"hide(index)\"\r\n            class=\"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-100 cursor-pointer\"\r\n          >\r\n            Hide\r\n          </li>\r\n\r\n          <li\r\n            @click=\"report(index)\"\r\n            class=\"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-200 cursor-pointer\"\r\n          >\r\n            Report\r\n          </li>\r\n\r\n          <li\r\n            @click=\"confirmDelete(index)\"\r\n            class=\"flex items-center justify-between px-4 py-2 rounded-xl hover:bg-gray-200 text-red-600 cursor-pointer\"\r\n          >\r\n            Delete\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </teleport>\r\n  </div>\r\n\r\n</div>\r\n          <!-- Show Hide Replies Toggle -->\r\n    <div v-if=\"totalReplies > 0\" class=\" flex-1 ml-12  mb-3\">\r\n      <button\r\n        @click=\"showReplies = !showReplies\"\r\n        class=\"absolute text-xs font-medium text-gray-600 hover:underline transition\">\r\n        {{ showReplies ? 'Hide' : 'View' }}\r\n        {{ totalReplies }}\r\n        {{ totalReplies === 1 ? 'reply' : 'replies' }}\r\n      </button>\r\n    </div>\r\n\r\n\r\n<!-- Reply Input Box -->\r\n        <transition name=\"fade\">\r\n          <div v-if=\"replyOpen\" class=\"mt-4\">\r\n          \r\n            <div\r\n              class=\"flex items-center gap-3 bg-white border border-gray-200 rounded-full px-4 py-2 shadow-md\">\r\n              \r\n            <button>\r\n            <Icon icon=\"solar:camera-broken\" class=\"w-5 h-5\"/>\r\n            </button>\r\n            <span class=\"text-GRAY-200 text-sm font-medium\">\r\n                @{{ localComment.user }}\r\n              </span>\r\n              <input\r\n                v-model=\"replyText\"\r\n                @keyup.enter=\"submitReply\"\r\n                ref=\"replyInput\"\r\n                class=\"flex-1 bg-transparent outline-none text-sm placeholder-gray-400\"\r\n                placeholder=\"Write a reply...\"/>\r\n              <button\r\n                @click=\"submitReply\"\r\n                :disabled=\"!replyText.trim()\"\r\n                class=\"text-blue-500 disabled:text-gray-300 transition\">\r\n                <Icon icon=\"solar:paper-plane-bold\" class=\"w-5 h-5\" />\r\n              </button>\r\n\r\n\r\n<!---Iamge Upolod -->\r\n              <button>\r\n                <Icon icon=\"lucide:smile\" class=\"w-5 h-5\"/>\r\n              </button>\r\n\r\n<!---Sent Button icon-->\r\n              <button>\r\n                <Icon icon=\"eva:paper-plane-fill\" class=\"w-5 h-5\"/>\r\n              </button>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n\r\n  \r\n    \r\n\r\n    <!-- Recursive Replies -->\r\n    <transition name=\"slide\">\r\n      <div v-show=\"showReplies && totalReplies > 0\">\r\n        <CommentCard\r\n          v-for=\"reply in localComment.replies\"\r\n          :key=\"reply.id || reply.time\"\r\n          :comment=\"reply\"\r\n          :depth=\"depth + 1\"\r\n          :current-user=\"currentUser\"\r\n          @reply-added=\"onReplyAdded\"/>\r\n      </div>\r\n    </transition>\r\n    \r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { Icon } from '@iconify/vue'\r\nimport CommentCard from './CommentCard.vue'\r\n\r\n\r\n\r\n\r\nexport default {\r\n  name: 'CommentCard',\r\n  components: {\r\n    Icon,\r\n    CommentCard,\r\n \r\n  },\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    depth: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    currentUser: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n  emits: ['reply-added'],\r\n\r\n  data() {\r\n    return {\r\n      localComment: null,\r\n      replyOpen: false,\r\n      replyText: '',\r\n      showReplies: true,\r\n      open: false,\r\n      popupStyle: {\r\n        top: '0px',\r\n        left: '0px'\r\n      },\r\n      index: 0,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    totalReplies() {\r\n      return this.countReplies(this.localComment?.replies || [])\r\n    }\r\n  },\r\n\r\n  created() {\r\n    // Deep copy to avoid mutating prop directly\r\n    this.localComment = JSON.parse(JSON.stringify(this.comment))\r\n  },\r\n\r\n  mounted() {\r\n     document.addEventListener('click', this.handleClickOutside)\r\n    //3 Dot \r\n\r\n    \r\n\r\n\r\n\r\n    // Collapse deep threads\r\n    if (this.depth >= 3) {\r\n      this.showReplies = false\r\n    }\r\n\r\n    // Auto-focus reply input\r\n    this.$watch('replyOpen', (isOpen) => {\r\n      if (isOpen) {\r\n        this.$nextTick(() => {\r\n          this.$refs.replyInput?.focus()\r\n        })\r\n      }\r\n    })\r\n  },\r\n\r\n  methods: {\r\n      toggleDots(event) {\r\n    this.open = !this.open\r\n\r\n    if (this.open && event) {\r\n      this.$nextTick(() => {\r\n        const rect = event.target.getBoundingClientRect()\r\n        this.popupStyle = {\r\n          top: `${rect.bottom + 8}px`,\r\n          left: `${rect.right - 176}px`,\r\n          position: 'absolute'\r\n        }\r\n      })\r\n    }\r\n  },\r\n  handleClickOutside(event) {\r\n    if (this.open && this.$refs.popup && !this.$refs.popup.contains(event.target)) {\r\n      this.open = false\r\n    }\r\n  },\r\n  edit() { console.log('Edit comment'); this.open = false },\r\n  hideComment() { console.log('Hide comment'); this.open = false },\r\n  report() { console.log('Report comment'); this.open = false },\r\n  remove() { console.log('Delete comment'); this.open = false }\r\n}\r\n \r\n  beforeUnmount() {\r\n    document.removeEventListener(\"click\", this.handleClickOutside);\r\n  },\r\n\r\n    //3 Dot\r\n     toggleDots() {\r\n    this.open = !this.open\r\n  },\r\n\r\n  closeDots() {\r\n    this.open = false\r\n  },\r\n\r\n  edit() {\r\n    console.log('Edit comment')\r\n    this.closeDots()\r\n  },\r\n\r\n  hide() {\r\n    console.log('Hide comment')\r\n    this.closeDots()\r\n  },\r\n\r\n  report() {\r\n    console.log('Report comment')\r\n    this.closeDots()\r\n  },\r\n\r\n  remove() {\r\n    console.log('Delete comment')\r\n    this.closeDots()\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n    countReplies(replies) {\r\n      if (!replies) return 0\r\n      return replies.reduce((sum, r) => sum + 1 + this.countReplies(r.replies), 0)\r\n    },\r\n\r\n    toggleLike() {\r\n      if (!this.localComment.likes) this.localComment.likes = 0\r\n      this.localComment.liked = !this.localComment.liked\r\n      this.localComment.likes += this.localComment.liked ? 1 : -1\r\n    },\r\n\r\n    submitReply() {\r\n      const text = this.replyText.trim()\r\n      if (!text) return\r\n\r\n      const newReply = {\r\n        id: Date.now(),\r\n        user: this.currentUser.name,\r\n        avatar: this.currentUser.avatar,\r\n        text,\r\n        time: 'Just now',\r\n        likes: 0,\r\n        liked: false,\r\n        replies: []\r\n      }\r\n\r\n      if (!this.localComment.replies) this.localComment.replies = []\r\n      this.localComment.replies.push(newReply)\r\n\r\n      this.replyText = ''\r\n      this.replyOpen = false\r\n      this.showReplies = true\r\n      this.$emit('reply-added')\r\n    },\r\n\r\n    onReplyAdded() {\r\n      this.$emit('reply-added')\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.25s ease;\r\n}\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.slide-enter-active,\r\n.slide-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.slide-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(-10px);\r\n}\r\n.slide-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(-10px);\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}