{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gray-100 flex flex-col items-center justify-center\"\n};\nconst _hoisted_2 = {\n  class: \"w-full max-w-md bg-white p-8 rounded-md bg-gray p-8 rounded-xl shadow-md w-full max-w-sm border-2 mb-50 shadow-md text-center border\"\n};\nconst _hoisted_3 = {\n  class: \"w-65 hidden md:block max-w-full\"\n};\nconst _hoisted_4 = {\n  class: \"flex-1 items-center pl-3 cursor-pointer\"\n};\nconst _hoisted_5 = {\n  class: \"flex justify-center\"\n};\nconst _hoisted_6 = {\n  class: \"flex gap-3 mb-3\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"text-red-500 text-xs mb-3 -mt-2\"\n};\nconst _hoisted_8 = {\n  class: \"flex gap-3 mb-3\"\n};\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = [\"value\"];\nconst _hoisted_11 = [\"value\"];\nconst _hoisted_12 = {\n  key: 1,\n  class: \"text-red-500 text-xs mb-3 -mt-2\"\n};\nconst _hoisted_13 = {\n  class: \"flex gap-3 mb-3\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  key: 2,\n  class: \"text-red-500 text-xs mb-3 -mt-2\"\n};\nconst _hoisted_16 = {\n  key: 3,\n  class: \"text-red-500 text-xs mb-3 -mt-2\"\n};\nconst _hoisted_17 = {\n  key: 4,\n  class: \"text-red-500 text-xs mb-4 -mt-3\"\n};\nconst _hoisted_18 = [\"disabled\"];\nconst _hoisted_19 = {\n  key: 0\n};\nconst _hoisted_20 = {\n  key: 1\n};\nexport function render(_ctx, _cache) {\n  const _component_Icon = _resolveComponent(\"Icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\"-Box Create Acc\"), _createCommentVNode(\" Back to Main Feed Button (optional) \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", _hoisted_4, [_createVNode(_component_Icon, {\n    icon: \"tdesign:chat-bubble\",\n    class: \"w-14 h-14 text-white transition-colors bg-green-500 border-4 border-green-500 rounded-xl duration-200 hover:text-gray-600 mb-10\",\n    onClick: _ctx.goToMainfeed\n  }, null, 8 /* PROPS */, [\"onClick\"])]), _createCommentVNode(\" Connect with Gmail\"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.signInWithGoogle && _ctx.signInWithGoogle(...args)),\n    class: \"relative flex items-center justify-center gap-4 px-4 py-2 mb-2 text-base font-medium text-gray-700 bg-gray-200 border-2 border-gray-300 rounded-full shadow-sm hover:shadow-md hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-shadow\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"flat-color-icons:google\",\n    class: \"w-6 h-6\"\n  }), _cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"Connect with Google\", -1 /* CACHED */))])]), _createCommentVNode(\"-\")]), _cache[13] || (_cache[13] = _createElementVNode(\"h2\", {\n    class: \"text-2xl font-bold text-gray-800 mb-8 text-center\"\n  }, \"Create a new account\", -1 /* CACHED */)), _createCommentVNode(\" First + Last Name \"), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.form.firstName = $event),\n    type: \"text\",\n    placeholder: \"First name\",\n    class: \"w-1/2 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.form.firstName, void 0, {\n    trim: true\n  }]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.form.lastName = $event),\n    type: \"text\",\n    placeholder: \"Last name\",\n    class: \"w-1/2 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.form.lastName, void 0, {\n    trim: true\n  }]])]), _ctx.errors.name ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString(_ctx.errors.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Date of Birth \"), _cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n    class: \"text-left text-sm font-medium text-gray-600 mb-2\"\n  }, \"Date of Birth\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.form.dobDay = $event),\n    class: \"w-1/3 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm\"\n  }, [_cache[10] || (_cache[10] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Day\", -1 /* CACHED */)), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(31, d => {\n    return _createElementVNode(\"option\", {\n      key: d,\n      value: String(d).padStart(2, '0')\n    }, _toDisplayString(d), 9 /* TEXT, PROPS */, _hoisted_9);\n  }), 64 /* STABLE_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.form.dobDay]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.form.dobMonth = $event),\n    class: \"w-1/3 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm\"\n  }, [_cache[11] || (_cache[11] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Month\", -1 /* CACHED */)), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, m => {\n    return _createElementVNode(\"option\", {\n      key: m,\n      value: String(m).padStart(2, '0')\n    }, _toDisplayString(m), 9 /* TEXT, PROPS */, _hoisted_10);\n  }), 64 /* STABLE_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.form.dobMonth]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.form.dobYear = $event),\n    class: \"w-1/3 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm\"\n  }, [_cache[12] || (_cache[12] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Year\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.years, y => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: y,\n      value: y\n    }, _toDisplayString(y), 9 /* TEXT, PROPS */, _hoisted_11);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.form.dobYear]])]), _ctx.errors.dob ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, _toDisplayString(_ctx.errors.dob), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Gender \"), _cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"text-left text-sm font-medium text-gray-600 mb-2\"\n  }, \"Gender\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_13, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(['Female', 'Male', 'Other'], g => {\n    return _createElementVNode(\"button\", {\n      key: g,\n      onClick: $event => _ctx.form.gender = g,\n      class: _normalizeClass(['flex-1 py-2 px-4 rounded-lg border-2 text-sm font-medium transition', _ctx.form.gender === g ? 'border-green-500 bg-green-50 text-green-700' : 'border-gray-300 hover:border-gray-400'])\n    }, _toDisplayString(g), 11 /* TEXT, CLASS, PROPS */, _hoisted_14);\n  }), 64 /* STABLE_FRAGMENT */))]), _ctx.errors.gender ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, _toDisplayString(_ctx.errors.gender), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Email \"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.form.contact = $event),\n    type: \"text\",\n    placeholder: \"Email address\",\n    class: \"w-full px-2 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 mb-3 text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.form.contact, void 0, {\n    trim: true\n  }]]), _ctx.errors.contact ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, _toDisplayString(_ctx.errors.contact), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Password \"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.form.password = $event),\n    type: \"password\",\n    placeholder: \"Create password \",\n    class: \"w-full px-2 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 mb-4 text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.form.password]]), _ctx.errors.password ? (_openBlock(), _createElementBlock(\"p\", _hoisted_17, _toDisplayString(_ctx.errors.password), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Submit Button with Loading \"), _createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => _ctx.handleSubmit && _ctx.handleSubmit(...args)),\n    disabled: _ctx.isLoading,\n    class: \"w-full py-2 bg-blue-600 text-white font-semibold text-sm rounded-xl hover:bg-blue-400 disabled:bg-blue-400 disabled:cursor-not-allowed transition flex items-center justify-center\"\n  }, [_ctx.isLoading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_19, \" Creating Account...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_20, \"Create Your Account\"))], 8 /* PROPS */, _hoisted_18)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_createVNode","_component_Icon","icon","onClick","_ctx","goToMainfeed","_hoisted_5","_cache","args","signInWithGoogle","_hoisted_6","form","firstName","$event","type","placeholder","trim","lastName","errors","name","_hoisted_7","_toDisplayString","_hoisted_8","dobDay","value","disabled","_Fragment","_renderList","d","key","String","padStart","_hoisted_9","dobMonth","m","_hoisted_10","dobYear","years","y","_hoisted_11","dob","_hoisted_12","_hoisted_13","g","gender","_normalizeClass","_hoisted_14","_hoisted_15","contact","_hoisted_16","password","_hoisted_17","handleSubmit","isLoading","_hoisted_19","_hoisted_20"],"sources":["D:\\login-feed\\src\\components\\CreateAccount.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-100 flex flex-col items-center justify-center \">\r\n\r\n  \r\n<div class=\"w-full max-w-md bg-white p-8 rounded-md    \r\n    bg-gray p-8 rounded-xl shadow-md\r\n     w-full max-w-sm border-2 mb-50\r\n     shadow-md text-center border \">\r\n     <!---Box Create Acc-->\r\n\r\n      <!-- Back to Main Feed Button (optional) -->\r\n   \r\n<div class=\" w-65 hidden md:block max-w-full\">\r\n<button class=\" flex-1 items-center pl-3 cursor-pointer \">\r\n<Icon icon=\"tdesign:chat-bubble\" \r\nclass=\"w-14 h-14 text-white transition-colors bg-green-500\r\n border-4 border-green-500 rounded-xl duration-200 hover:text-gray-600 mb-10\" \r\n\r\n @click=\"goToMainfeed\"/>\r\n</button>\r\n\r\n<!-- Connect with Gmail-->\r\n<div class=\"flex justify-center\">\r\n  <button @click=\"signInWithGoogle\"\r\n    class=\"relative flex items-center justify-center gap-4 px-4 \r\n    py-2 mb-2 text-base font-medium text-gray-700 bg-gray-200 border-2 \r\n    border-gray-300 rounded-full  shadow-sm hover:shadow-md \r\n    hover:border-gray-400 focus:outline-none focus:ring-2 \r\n    focus:ring-offset-2 focus:ring-blue-500 transition-shadow\">\r\n    <Icon icon=\"flat-color-icons:google\" class=\"w-6 h-6\" />\r\n    <span>Connect with Google</span>\r\n  </button>\r\n</div>\r\n<!----->\r\n      </div>\r\n\r\n      <h2 class=\"text-2xl font-bold text-gray-800 mb-8 text-center\">Create a new account</h2>\r\n\r\n      <!-- First + Last Name -->\r\n      <div class=\"flex gap-3 mb-3\">\r\n        <input v-model.trim=\"form.firstName\" type=\"text\" placeholder=\"First name\"\r\n          class=\"w-1/2 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition text-sm\" />\r\n        <input v-model.trim=\"form.lastName\" type=\"text\" placeholder=\"Last name\"\r\n          class=\"w-1/2 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition text-sm\" />\r\n      </div>\r\n      <p v-if=\"errors.name\" class=\"text-red-500 text-xs mb-3 -mt-2\">{{ errors.name }}</p>\r\n\r\n      <!-- Date of Birth -->\r\n      <div class=\"text-left text-sm font-medium text-gray-600 mb-2\">Date of Birth</div>\r\n      <div class=\"flex gap-3 mb-3\">\r\n        <select v-model=\"form.dobDay\"\r\n          class=\"w-1/3 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm\">\r\n          <option value=\"\" disabled>Day</option>\r\n          <option v-for=\"d in 31\" :key=\"d\" :value=\"String(d).padStart(2, '0')\">{{ d }}</option>\r\n        </select>\r\n        <select v-model=\"form.dobMonth\"\r\n          class=\"w-1/3 px-4 py-2 border-2 border-gray-300 \r\n          rounded-lg focus:outline-none focus:border-blue-500 text-sm\">\r\n          <option value=\"\" disabled>Month</option>\r\n          <option v-for=\"m in 12\" :key=\"m\" :value=\"String(m).padStart(2, '0')\">{{ m }}</option>\r\n        </select>\r\n        <select v-model=\"form.dobYear\"\r\n          class=\"w-1/3 px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm\">\r\n          <option value=\"\" disabled>Year</option>\r\n          <option v-for=\"y in years\" :key=\"y\" :value=\"y\">{{ y }}</option>\r\n        </select>\r\n      </div>\r\n      <p v-if=\"errors.dob\" class=\"text-red-500 text-xs mb-3 -mt-2\">{{ errors.dob }}</p>\r\n\r\n      <!-- Gender -->\r\n      <div class=\"text-left text-sm font-medium text-gray-600 mb-2\">Gender</div>\r\n      <div class=\"flex gap-3 mb-3\">\r\n        <button v-for=\"g in ['Female', 'Male', 'Other']\" :key=\"g\" @click=\"form.gender = g\"\r\n          :class=\"[\r\n            'flex-1 py-2 px-4 rounded-lg border-2 text-sm font-medium transition',\r\n            form.gender === g\r\n              ? 'border-green-500 bg-green-50 text-green-700'\r\n              : 'border-gray-300 hover:border-gray-400'\r\n          ]\">\r\n          {{ g }}\r\n        </button>\r\n      </div>\r\n      <p v-if=\"errors.gender\" class=\"text-red-500 text-xs mb-3 -mt-2\">{{ errors.gender }}</p>\r\n\r\n      <!-- Email -->\r\n      <input v-model.trim=\"form.contact\" type=\"text\" placeholder=\"Email address\"\r\n        class=\"w-full px-2 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 mb-3 text-sm\" />\r\n      <p v-if=\"errors.contact\" class=\"text-red-500 text-xs mb-3 -mt-2\">{{ errors.contact }}</p>\r\n\r\n      <!-- Password -->\r\n      <input v-model=\"form.password\" type=\"password\" placeholder=\"Create password \"\r\n        class=\"w-full px-2 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 mb-4 text-sm\" />\r\n      <p v-if=\"errors.password\" class=\"text-red-500 text-xs mb-4 -mt-3\">{{ errors.password }}</p>\r\n\r\n      <!-- Submit Button with Loading -->\r\n      <button @click=\"handleSubmit\" :disabled=\"isLoading\"\r\n        class=\"w-full py-2 bg-blue-600 text-white font-semibold \r\n        text-sm rounded-xl hover:bg-blue-400 disabled:bg-blue-400 \r\n        disabled:cursor-not-allowed transition flex items-center justify-center\">\r\n        <span v-if=\"isLoading\">\r\n        Creating Account...</span>\r\n        <span v-else>Create Your Account</span>\r\n      </button>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { Icon } from '@iconify/vue';\r\nimport { auth } from '@/firebase';\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  signInWithRedirect,\r\n  getRedirectResult\r\n} from 'firebase/auth';\r\n\r\nexport default {\r\n  name: 'CreateAccount',\r\n  components: { Icon },\r\n\r\n  data() {\r\n    return {\r\n      form: {\r\n        firstName: '',\r\n        lastName: '',\r\n        dobDay: '',\r\n        dobMonth: '',\r\n        dobYear: '',\r\n        gender: '',\r\n        contact: '',\r\n        password: ''\r\n      },\r\n      errors: {\r\n        name: '',\r\n        dob: '',\r\n        gender: '',\r\n        contact: '',\r\n        password: ''\r\n      },\r\n      isLoading: false,\r\n      years: Array.from({ length: 100 }, (_, i) => new Date().getFullYear() - i)\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    apiBase() {\r\n      return import.meta.env.VITE_API_URL || 'http://localhost:3000';\r\n    }\r\n  },\r\n\r\n  async mounted() {\r\n    // Only handles the result if the user was redirected back from Google\r\n    try {\r\n      const result = await getRedirectResult(auth);\r\n      if (result?.user) {\r\n        await this.handleGoogleSuccess(result.user);\r\n      }\r\n    } catch (error) {\r\n      console.error('Google redirect error:', error);\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // GOOGLE SIGN-IN SUCCESS HANDLER\r\n    async handleGoogleSuccess(user) {\r\n      // Define variables from the user object first\r\n      const displayName = user.displayName || '';\r\n      const nameParts = displayName.split(' ');\r\n      const firstName = nameParts[0] || '';\r\n      const lastName = nameParts.slice(1).join(' ') || '';\r\n\r\n      const googleAvatar = user.photoURL || '';\r\n      const userData = { firstName, lastName, email: user.email };\r\n\r\n      // Prepare local storage data for ProfileUser.vue\r\n      const userData = {\r\n        firstName,\r\n        lastName,\r\n        email: user.email\r\n        \r\n      };\r\n\r\n      const profileData = {\r\n        uid: user.uid,\r\n        email: user.email,\r\n        firstName,\r\n        lastName,\r\n        fullName: displayName,\r\n        photoURL: user.photoURL || '',\r\n        provider: 'google',\r\n        createdAt: new Date().toISOString()\r\n      };\r\n\r\n      try {\r\n        // Sync with your backend API\r\n        await fetch(`${this.apiBase}/api/users/create-profile`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(profileData)\r\n        });\r\n      } catch (e) {\r\n        console.warn('Backend sync failed, proceeding to profile anyway:', e.message);\r\n      }\r\n\r\n      // Store data locally so ProfileUser.vue can display the name immediately\r\n      localStorage.setItem('newUserData', JSON.stringify(userData));\r\n      localStorage.setItem('userUid', user.uid);\r\n      localStorage.setItem('userEmail', user.email);\r\n      localStorage.setItem('userDisplayName', displayName);\r\n\r\n      // Final Redirect to the Profile page\r\n      await this.$router.push({ name: 'ProfileUser' });\r\n    },\r\n\r\n    // GOOGLE SIGN-IN TRIGGER\r\n    async signInWithGoogle() {\r\n      if (this.isLoading) return; // Prevent double-execution if user clicks twice\r\n      \r\n      this.isLoading = true;\r\n      const provider = new GoogleAuthProvider();\r\n      provider.setCustomParameters({ prompt: 'select_account' });\r\n\r\n      try {\r\n        // Primary method for Desktop\r\n        const result = await signInWithPopup(auth, provider);\r\n        if (result?.user) {\r\n          await this.handleGoogleSuccess(result.user);\r\n        }\r\n      } catch (error) {\r\n        // Fallback for mobile browsers or blocked popups\r\n        if (error.code === 'auth/popup-blocked') {\r\n          await signInWithRedirect(auth, provider);\r\n        } else if (error.code !== 'auth/popup-closed-by-user') {\r\n          console.error('Google sign-in error:', error);\r\n          this.errors.contact = \"Failed to connect Google account.\";\r\n        }\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    // EMAIL + PASSWORD SIGN-UP (Existing Logic)\r\n    async handleSubmit() {\r\n      this.errors = { name: '', dob: '', gender: '', contact: '', password: '' };\r\n\r\n      if (!this.form.firstName.trim() || !this.form.lastName.trim()) {\r\n        this.errors.name = 'First and last name are required.';\r\n      }\r\n      if (!this.form.dobDay || !this.form.dobMonth || !this.form.dobYear) {\r\n        this.errors.dob = 'Please select your full date of birth.';\r\n      }\r\n      if (!this.form.gender) {\r\n        this.errors.gender = 'Please select your gender.';\r\n      }\r\n\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!this.form.contact || !emailRegex.test(this.form.contact)) {\r\n        this.errors.contact = 'Please enter a valid email address.';\r\n      }\r\n      if (!this.form.password || this.form.password.length < 6) {\r\n        this.errors.password = 'Password must be at least 6 characters.';\r\n      }\r\n\r\n      if (Object.values(this.errors).some(e => e)) return;\r\n\r\n      this.isLoading = true;\r\n\r\n      try {\r\n        const { user } = await createUserWithEmailAndPassword(\r\n          auth,\r\n          this.form.contact,\r\n          this.form.password\r\n        );\r\n\r\n        const userData = {\r\n          firstName: this.form.firstName.trim(),\r\n          lastName: this.form.lastName.trim(),\r\n          email: this.form.contact\r\n        };\r\n\r\n        const profileData = {\r\n          uid: user.uid,\r\n          email: this.form.contact,\r\n          firstName: userData.firstName,\r\n          lastName: userData.lastName,\r\n          fullName: `${userData.firstName} ${userData.lastName}`,\r\n          dateOfBirth: `${this.form.dobYear}-${this.form.dobMonth}-${this.form.dobDay}`,\r\n          gender: this.form.gender,\r\n          provider: 'email',\r\n          createdAt: new Date().toISOString()\r\n        };\r\n\r\n        await fetch(`${this.apiBase}/api/users/create-profile`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(profileData)\r\n        });\r\n\r\n        localStorage.setItem('newUserData', JSON.stringify(userData));\r\n        localStorage.setItem('userUid', user.uid);\r\n        localStorage.setItem('userEmail', this.form.contact);\r\n\r\n        await this.$router.push({ name: 'ProfileUser' });\r\n\r\n      } catch (error) {\r\n        if (error.code === 'auth/email-already-in-use') {\r\n          this.errors.contact = 'This email is already registered.';\r\n        } else {\r\n          this.errors.contact = error.message;\r\n        }\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    goToMainfeed() {\r\n      this.$router.push({ name: 'Mainfeed' });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n/* Optional: Add any custom styles here */\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}