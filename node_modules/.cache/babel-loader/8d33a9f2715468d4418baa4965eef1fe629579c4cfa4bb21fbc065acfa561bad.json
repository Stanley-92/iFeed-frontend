{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withKeys as _withKeys, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, Teleport as _Teleport, createBlock as _createBlock, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, Transition as _Transition, withCtx as _withCtx, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-95 flex flex-col md:flex-row min-h-[100dvh] bg-white\"\n};\nconst _hoisted_2 = {\n  class: \"w-20 bg-white border-r border-gray-200 sticky top-0 h-[100dvh] flex flex-col items-center py-8 space-y-8 hidden md:flex\"\n};\nconst _hoisted_3 = {\n  class: \"relative\"\n};\nconst _hoisted_4 = {\n  class: \"flex-1 flex flex-col items-center space-y-6 justify-center\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-md\"\n};\nconst _hoisted_6 = {\n  class: \"p-2 rounded-xl hover:bg-gray-100 transition-all duration-200 group\"\n};\nconst _hoisted_7 = {\n  class: \"p-1 bg-gray-400 border-4 border-gradient-to-br from-blue-600 to-green-500 rounded-xl shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"bg-white w-h-full rounded-xl p-6 space-y-2\"\n};\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = [\"placeholder\"];\nconst _hoisted_11 = {\n  class: \"cursor-pointer flex items-center gap-2 mb-4\",\n  title: \"Upload Media\"\n};\nconst _hoisted_12 = {\n  class: \"font-medium\"\n};\nconst _hoisted_13 = {\n  class: \"flex justify-end items-center gap-4 text-gray-600 mb-3 px-2\"\n};\nconst _hoisted_14 = {\n  class: \"h-12 flex items-center justify-center border-b relative\"\n};\nconst _hoisted_15 = {\n  class: \"p-4 flex-1\"\n};\nconst _hoisted_16 = {\n  class: \"relative\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"mt-4 space-y-2 overflow-y-auto max-h-[48vh] pr-1\"\n};\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = {\n  class: \"text-sm font-medium\"\n};\nconst _hoisted_20 = {\n  class: \"text-xs text-gray-500\"\n};\nconst _hoisted_21 = {\n  class: \"relative\",\n  ref: \"emojiWrapper\"\n};\nconst _hoisted_22 = {\n  key: 0,\n  class: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80\"\n};\nconst _hoisted_23 = {\n  class: \"relative max-w-3xl w-full max-h-[90vh]\"\n};\nconst _hoisted_24 = {\n  key: 1,\n  class: \"grid grid-cols-2 gap-2 mt-2\"\n};\nconst _hoisted_25 = [\"onClick\"];\nconst _hoisted_26 = [\"onClick\"];\nconst _hoisted_27 = {\n  class: \"mt-40 mb-5 relative\"\n};\nconst _hoisted_28 = {\n  class: \"absolute top-20 left-40 w-72 bg-white shadow-lg border-2 border-gray-300 rounded-xl p-4 z-50\"\n};\nconst _hoisted_29 = {\n  class: \"divide-y bg-white\"\n};\nconst _hoisted_30 = {\n  class: \"py-3 flex justify-between items-center cursor-pointer hover:bg-gray-50 px-2 rounded\"\n};\nconst _hoisted_31 = {\n  class: \"py-3 flex justify-between items-center cursor-pointer hover:bg-gray-200 px-2 rounded\"\n};\nconst _hoisted_32 = {\n  class: \"py-3 px-2 cursor-pointer hover:text-gray-600 rounded flex items-center gap-2\"\n};\nconst _hoisted_33 = {\n  class: \"py-3 px-2 cursor-pointer hover:bg-gray-50 rounded text-red-500 flex items-center gap-2\"\n};\nconst _hoisted_34 = {\n  class: \"flex-5 max-w-2xl mx-auto px-10 py-5\"\n};\nconst _hoisted_35 = {\n  class: \"relative w-full mb-4\"\n};\nconst _hoisted_36 = {\n  ref: \"storyScrollRef\",\n  class: \"flex gap-4 overflow-x-auto scroll-smooth px-2 no-scrollbar\"\n};\nconst _hoisted_37 = [\"onClick\"];\nconst _hoisted_38 = {\n  class: \"w-20 h-20 rounded-xl p-[2px] bg-gradient-to-tr from-purple-500 to-pink-500\"\n};\nconst _hoisted_39 = [\"src\"];\nconst _hoisted_40 = {\n  class: \"text-xs mt-2 text-gray-700 truncate w-full text-center\"\n};\nconst _hoisted_41 = {\n  class: \"flex items-center justify-between mb-2 rounded-xl\"\n};\nconst _hoisted_42 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_43 = [\"src\"];\nconst _hoisted_44 = {\n  class: \"text-sm font-semibold text-gray-800\"\n};\nconst _hoisted_45 = {\n  class: \"text-xs text-gray-400\"\n};\nconst _hoisted_46 = {\n  key: 0,\n  class: \"text-xs text-gray-400\"\n};\nconst _hoisted_47 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_48 = [\"onClick\"];\nconst _hoisted_49 = {\n  class: \"relative z-20 pointer-events-auto\"\n};\nconst _hoisted_50 = [\"onClick\"];\nconst _hoisted_51 = {\n  key: 0,\n  class: \"absolute right-0 mt-2 w-52 bg-white border border-gray-200 rounded-xl shadow-lg z-50\"\n};\nconst _hoisted_52 = {\n  class: \"text-sm text-gray-700 py-2\"\n};\nconst _hoisted_53 = [\"onClick\"];\nconst _hoisted_54 = [\"onClick\"];\nconst _hoisted_55 = [\"onClick\"];\nconst _hoisted_56 = [\"onClick\"];\nconst _hoisted_57 = [\"onClick\"];\nconst _hoisted_58 = {\n  key: 1,\n  class: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\"\n};\nconst _hoisted_59 = {\n  class: \"bg-white w-96 p-6 rounded-xl shadow-xl relative\"\n};\nconst _hoisted_60 = {\n  class: \"mb-4\"\n};\nconst _hoisted_61 = {\n  key: 0\n};\nconst _hoisted_62 = {\n  class: \"text-right mt-1\"\n};\nconst _hoisted_63 = [\"onClick\"];\nconst _hoisted_64 = {\n  key: 1\n};\nconst _hoisted_65 = [\"onClick\"];\nconst _hoisted_66 = {\n  key: 0,\n  class: \"w-full h-48 bg-gray-200\"\n};\nconst _hoisted_67 = [\"src\"];\nconst _hoisted_68 = {\n  class: \"p-3 bg-white\"\n};\nconst _hoisted_69 = {\n  class: \"text-sm font-medium text-gray-900 line-clamp-2\"\n};\nconst _hoisted_70 = {\n  key: 0,\n  class: \"text-xs text-gray-600 mt-1 line-clamp-2\"\n};\nconst _hoisted_71 = {\n  class: \"text-xs text-gray-500 mt-2 truncate\"\n};\nconst _hoisted_72 = [\"src\"];\nconst _hoisted_73 = {\n  class: \"flex items-center gap-4 text-gray-500 text-sm mt-4 mb-10\"\n};\nconst _hoisted_74 = [\"onClick\"];\nconst _hoisted_75 = [\"onClick\"];\nconst _hoisted_76 = {\n  class: \"relative\"\n};\nconst _hoisted_77 = {\n  class: \"flex justify-between items-center mb-3\"\n};\nconst _hoisted_78 = {\n  class: \"flex items-center space-x-3 mb-4\"\n};\nconst _hoisted_79 = [\"src\"];\nconst _hoisted_80 = {\n  class: \"mb-4\"\n};\nconst _hoisted_81 = {\n  class: \"flex space-x-2\"\n};\nconst _hoisted_82 = [\"src\"];\nconst _hoisted_83 = {\n  class: \"flex space-x-4\"\n};\nconst _hoisted_84 = {\n  class: \"flex flex-col items-center text-sm\"\n};\nconst _hoisted_85 = {\n  class: \"flex flex-col items-center text-sm\"\n};\nconst _hoisted_86 = {\n  class: \"flex flex-col items-center text-sm\"\n};\nconst _hoisted_87 = {\n  class: \"flex flex-col items-center text-sm item-center\"\n};\nconst _hoisted_88 = {\n  key: 3,\n  class: \"max-w-sl rounded-full mx-auto px-4 py-4\"\n};\nconst _hoisted_89 = [\"onClick\"];\nconst _hoisted_90 = {\n  key: 0,\n  class: \"mt-4\"\n};\nconst _hoisted_91 = {\n  class: \"flex gap-3 items-start\"\n};\nconst _hoisted_92 = [\"src\"];\nconst _hoisted_93 = {\n  class: \"flex-1 relative\"\n};\nconst _hoisted_94 = [\"onUpdate:modelValue\", \"onKeyup\"];\nconst _hoisted_95 = [\"onClick\"];\nconst _hoisted_96 = {\n  class: \"absolute right-12 bottom-3 cursor-pointer text-gray-500 hover:text-blue-500\"\n};\nconst _hoisted_97 = [\"onChange\"];\nconst _hoisted_98 = [\"onClick\"];\nconst _hoisted_99 = {\n  key: 0,\n  class: \"mt-3 flex flex-wrap gap-2\"\n};\nconst _hoisted_100 = [\"onClick\"];\nconst _hoisted_101 = {\n  key: 1,\n  class: \"relative\"\n};\nconst _hoisted_102 = {\n  class: \"w-72 bg-white border-l p-10 hidden xl:block sticky top-0 h-screen overflow-y-auto\"\n};\nconst _hoisted_103 = {\n  class: \"flex items-center justify-between mb-32\"\n};\nconst _hoisted_104 = {\n  class: \"flex items-center gap-5\"\n};\nconst _hoisted_105 = [\"src\"];\nconst _hoisted_106 = {\n  class: \"text-sm text-gray-500\"\n};\nconst _hoisted_107 = {\n  class: \"flex justify-between items-center mb-12\"\n};\nconst _hoisted_108 = {\n  class: \"space-y-4\"\n};\nconst _hoisted_109 = [\"src\"];\nconst _hoisted_110 = {\n  class: \"flex flex-col\"\n};\nconst _hoisted_111 = {\n  class: \"text-sm font-medium text-gray-700\"\n};\nconst _hoisted_112 = {\n  class: \"relative w-[90vw] max-w-[430px] aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl\"\n};\nconst _hoisted_113 = {\n  class: \"absolute inset-0 z-0\"\n};\nconst _hoisted_114 = {\n  class: \"absolute inset-x-0 top-0 p-3 z-20\"\n};\nconst _hoisted_115 = {\n  class: \"h-1 w-full bg-white/20 rounded mb-3\"\n};\nconst _hoisted_116 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_117 = {\n  class: \"flex items-center gap-2 text-white\"\n};\nconst _hoisted_118 = [\"src\"];\nconst _hoisted_119 = {\n  class: \"leading-tight\"\n};\nconst _hoisted_120 = {\n  class: \"text-sm font-semibold\"\n};\nconst _hoisted_121 = {\n  class: \"text-[11px] text-white/70\"\n};\nconst _hoisted_122 = {\n  class: \"absolute inset-x-0 bottom-0 p-4 z-50\"\n};\nconst _hoisted_123 = {\n  class: \"flex items-center gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Icon = _resolveComponent(\"Icon\");\n  const _component_FriendSearch = _resolveComponent(\"FriendSearch\");\n  const _component_Notify = _resolveComponent(\"Notify\");\n  const _component_EmojiPicker = _resolveComponent(\"EmojiPicker\");\n  const _component_CommentCard = _resolveComponent(\"CommentCard\");\n  const _component_ChatPanel = _resolveComponent(\"ChatPanel\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"aside\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goToMainfeed && $options.goToMainfeed(...args)),\n    class: \"p-2 rounded-xl hover:bg-green-50 transition-all duration-200 group\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"tdesign:chat-bubble\",\n    class: \"w-10 h-10 text-white transition-colors bg-green-500 border-4 border-green-500 rounded-xl duration-200 hover:text-gray-600 mb-10\"\n  })]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_FriendSearch, {\n    users: $data.friends,\n    \"action-text\": \"Follow\",\n    onSelect: _ctx.handleFollow\n  }, null, 8, [\"users\", \"onSelect\"])]), _createElementVNode(\"nav\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $data.showNotify = true),\n    class: \"relative p-3 rounded-xl hover:bg-gray-100 transition-all duration-200 group\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"solar:heart-outline\",\n    class: \"w-7 h-7 text-gray-600 group-hover:text-gray-900\"\n  }), $data.notifications.length > 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString($data.notifications.length > 99 ? '99+' : $data.notifications.length), 1)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"button\", _hoisted_6, [_createVNode(_component_Icon, {\n    icon: \"proicons:home\",\n    class: \"w-7 h-7 text-gray-600 group-hover:text-gray-900\"\n  })]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.openPostModal && $options.openPostModal(...args)),\n    class: \"p-4 rounded-xl hover:bg-gray-50 transition-all duration-300 group\"\n  }, [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_Icon, {\n    icon: \"ic:baseline-plus\",\n    class: \"w-10 h-8 text-gray-500\"\n  })])]), _createVNode(_component_Notify, {\n    modelValue: $data.showNotify,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.showNotify = $event),\n    notifications: $data.notifications\n  }, null, 8, [\"modelValue\", \"notifications\"]), (_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [$data.showPostModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]\",\n    onClick: _cache[25] || (_cache[25] = _withModifiers((...args) => $options.closePostModal && $options.closePostModal(...args), [\"self\"]))\n  }, [_createElementVNode(\"div\", {\n    class: \"bg-white w-full max-w-xl rounded-xl p-6 relative\",\n    onClick: _cache[24] || (_cache[24] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.closePostModal && $options.closePostModal(...args)),\n    class: \"absolute top-2 right-2 text-gray-500 hover:text-black text-2xl\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"basil:cross-solid\"\n  })]), !$data.composerType ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_cache[60] || (_cache[60] = _createElementVNode(\"h2\", {\n    class: \"text-center font-semibold text-lg\"\n  }, \" Create\", -1)), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => $data.composerType = 'story'),\n    class: \"w-full flex items-center gap-3 p-4 border rounded-xl hover:bg-gray-100\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"fluent-color:history-32\",\n    class: \"w-8 h-8 text-green-600\"\n  }), _cache[58] || (_cache[58] = _createElementVNode(\"p\", {\n    class: \"font-medium\"\n  }, \"Create Story\", -1))]), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = $event => $data.composerType = 'post'),\n    class: \"w-full flex items-center gap-3 p-4 border rounded-xl hover:bg-gray-100\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"system-uicons:postcard\",\n    class: \"w-8 h-8 text-blue-500\"\n  }), _cache[59] || (_cache[59] = _createElementVNode(\"span\", {\n    class: \"font-medium\"\n  }, \" Create Post\", -1))])])) : _createCommentVNode(\"\", true), $data.composerType ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"textarea\", {\n    ref: \"textareaRef\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.newPost = $event),\n    onInput: _cache[8] || (_cache[8] = (...args) => $options.handlePostInput && $options.handlePostInput(...args)),\n    placeholder: $data.composerType === 'story' ? 'Add a caption to your story...' : 'What\\'s on your mind?',\n    class: \"w-full border border-gray-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-blue-300 resize-none mb-4 bg-white/90\"\n  }, \"        \", 40, _hoisted_10), [[_vModelText, $data.newPost]]), _createElementVNode(\"label\", _hoisted_11, [_createVNode(_component_Icon, {\n    icon: \"system-uicons:postcard\",\n    class: \"w-8 h-8 text-blue-500\"\n  }), _createElementVNode(\"span\", _hoisted_12, _toDisplayString($data.composerType === 'story' ? 'Add to Story' : 'Upload Post'), 1), _createElementVNode(\"input\", {\n    type: \"file\",\n    accept: \"image/*,video/*\",\n    multiple: \"\",\n    class: \"hidden\",\n    onChange: _cache[9] || (_cache[9] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args))\n  }, null, 32)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.getLocation && $options.getLocation(...args)),\n    title: \"Location\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"mynaui:location\",\n    class: \"w-5 h-5\"\n  })]), (_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [$data.showLocationPopup ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 z-[10000] flex items-center justify-center bg-black/50\",\n    onKeydown: _cache[17] || (_cache[17] = _withKeys((...args) => $options.closeLocation && $options.closeLocation(...args), [\"esc\"])),\n    tabindex: \"-1\",\n    onClick: _cache[18] || (_cache[18] = _withModifiers((...args) => $options.closeLocation && $options.closeLocation(...args), [\"self\"]))\n  }, [_createElementVNode(\"div\", {\n    class: \"bg-white rounded-2xl shadow-xl w-[420px] max-w-[92vw] h-[70vh] max-h-[720px] overflow-hidden flex flex-col\",\n    onClick: _cache[16] || (_cache[16] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    class: \"absolute left-2 p-2 rounded hover:bg-gray-100\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.closeLocation && $options.closeLocation(...args)),\n    \"aria-label\": \"Back\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"mdi:chevron-left\",\n    class: \"w-5 h-5\"\n  })]), _cache[61] || (_cache[61] = _createElementVNode(\"h2\", {\n    class: \"text-sm font-semibold\"\n  }, \"Choose a Place\", -1)), _createElementVNode(\"button\", {\n    class: \"absolute right-2 p-2 rounded hover:bg-gray-100\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.closeLocation && $options.closeLocation(...args)),\n    \"aria-label\": \"Close\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"material-symbols:close\"\n  })])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n    ref: \"locationInputRef\",\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.locationInput = $event),\n    type: \"text\",\n    placeholder: \"Add Location...\",\n    class: \"w-full px-4 py-2 pr-10 rounded-lg bg-gray-200/70 text-sm outline-none\",\n    onKeyup: _cache[14] || (_cache[14] = _withKeys((...args) => $options.confirmLocation && $options.confirmLocation(...args), [\"enter\"]))\n  }, null, 544), [[_vModelText, $data.locationInput]]), _createElementVNode(\"button\", {\n    class: \"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 text-gray-600 hover:text-green-600\",\n    onClick: _cache[15] || (_cache[15] = (...args) => $options.confirmLocation && $options.confirmLocation(...args)),\n    \"aria-label\": \"Send\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"ph:paper-plane-tilt-duotone\",\n    class: \"w-5 h-5\"\n  })])]), $data.suggestions.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.suggestions, (s, i) => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: i,\n      class: \"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100\",\n      onClick: $event => $options.pickSuggestion(s)\n    }, [_createElementVNode(\"div\", _hoisted_19, _toDisplayString(s.name), 1), _createElementVNode(\"div\", _hoisted_20, _toDisplayString(s.desc), 1)], 8, _hoisted_18);\n  }), 128))])) : _createCommentVNode(\"\", true)])])], 32)) : _createCommentVNode(\"\", true)])), _createElementVNode(\"button\", {\n    onClick: _cache[19] || (_cache[19] = (...args) => $options.toggleReplyComment && $options.toggleReplyComment(...args)),\n    title: \"Comment\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"iconamoon:comment\",\n    class: \"w-5 h-5\"\n  })]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"button\", {\n    onClick: _cache[20] || (_cache[20] = _withModifiers($event => $options.toggleEmojiPicker('composer'), [\"stop\"])),\n    title: \"Emoji\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"mingcute:emoji-line\",\n    class: \"w-5 h-5 mr-5 mt-2\"\n  })]), $data.showEmojiPickerIndex === 'composer' ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"absolute z-50 top-8 right-0\",\n    onClick: _cache[21] || (_cache[21] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createVNode(_component_EmojiPicker, {\n    onSelect: $options.EmojiToPost\n  }, null, 8, [\"onSelect\"])])) : _createCommentVNode(\"\", true)], 512), _createElementVNode(\"button\", {\n    class: \"text-sm font-semibold text-gray-700 hover:text-blue-600\",\n    onClick: _cache[22] || (_cache[22] = (...args) => $options.submitPost && $options.submitPost(...args))\n  }, _toDisplayString($data.composerType === 'story' ? 'Share Story' : 'Post'), 1)]), $data.activePreview ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"button\", {\n    onClick: _cache[23] || (_cache[23] = (...args) => $options.closePreview && $options.closePreview(...args)),\n    class: \"fixed top-6 right-6 z-50 text-white bg-black bg-opacity-50 p-2 rounded-full hover:bg-opacity-70\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"mdi:close\",\n    class: \"w-6 h-6\"\n  })]), (_openBlock(), _createBlock(_resolveDynamicComponent($data.activePreview.type.startsWith('video') ? 'video' : 'img'), {\n    src: $data.media.url,\n    class: \"w-auto max-w-full max-h-[90vh] object-contain mx-auto rounded-xl\",\n    controls: \"\",\n    autoplay: \"\"\n  }, null, 8, [\"src\"]))])])) : _createCommentVNode(\"\", true), $data.mediaPreviews.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.mediaPreviews, (file, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"relative group rounded-lg overflow-hidden border cursor-pointer\",\n      onClick: $event => $options.openPreview(file)\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(file.type.startsWith('video') ? 'video' : 'img'), {\n      src: file.url,\n      class: \"w-full h-48 object-cover\",\n      controls: \"\"\n    }, null, 8, [\"src\"])), _createElementVNode(\"button\", {\n      onClick: _withModifiers($event => $options.removeMedia(index), [\"stop\"]),\n      class: \"relative\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"mdi:close\",\n      class: \"w-4 h-4\"\n    })], 8, _hoisted_26)], 8, _hoisted_25);\n  }), 128))])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true)]))]), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", {\n    onClick: _cache[26] || (_cache[26] = (...args) => $options.toggleSettings && $options.toggleSettings(...args)),\n    class: \"relative z- hover:bg-gray-200 rounded-xl\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"famicons:reorder-three-outline\",\n    class: \"w-8 h-8 text-gray-500 transition-colors duration-200 hover:text-gray-600\"\n  })])])]), _createElementVNode(\"div\", null, [(_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [$data.showSettings ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 z-40\",\n    onClick: _cache[27] || (_cache[27] = _withModifiers($event => $data.showSettings = false, [\"self\"]))\n  }, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_30, [_cache[62] || (_cache[62] = _createElementVNode(\"span\", {\n    class: \"font-medium\"\n  }, \"Switch Mode\", -1)), _createVNode(_component_Icon, {\n    icon: \"ooui:next-ltr\"\n  })]), _cache[63] || (_cache[63] = _createElementVNode(\"div\", {\n    class: \"py-3 px-2 cursor-pointer hover:bg-gray-50 rounded\"\n  }, \"Daily Review\", -1)), _cache[64] || (_cache[64] = _createElementVNode(\"div\", {\n    class: \"py-3 px-2 cursor-pointer hover:bg-gray-50 rounded\"\n  }, \"Setting\", -1))]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_31, [_cache[65] || (_cache[65] = _createElementVNode(\"button\", null, \" iFeed \", -1)), _createVNode(_component_Icon, {\n    icon: \"ooui:next-ltr\"\n  })]), _cache[66] || (_cache[66] = _createElementVNode(\"div\", {\n    class: \"py-3 px-2 cursor-pointer hover:bg-gray-200 rounded\"\n  }, \"Feedback\", -1)), _createElementVNode(\"div\", _hoisted_32, [_createVNode(_component_Icon, {\n    icon: \"akar-icons:heart\",\n    class: \"w-8 h-8\"\n  })])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_33, [_createVNode(_component_Icon, {\n    icon: \"material-symbols:logout\",\n    class: \"w-8 h-8 cursor-pointer\",\n    onClick: $options.goLogin\n  }, null, 8, [\"onClick\"])])])])])])) : _createCommentVNode(\"\", true)]))]), _createElementVNode(\"main\", _hoisted_34, [_createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.stories, (story, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: story.id,\n      onClick: $event => $options.openStory(i),\n      class: \"flex flex-col items-center flex-shrink-0 w-[90px] cursor-pointer\"\n    }, [_createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"img\", {\n      src: story.media,\n      class: \"w-full h-full rounded-lg object-cover bg-white\"\n    }, null, 8, _hoisted_39)]), _createElementVNode(\"p\", _hoisted_40, _toDisplayString(story.username), 1)], 8, _hoisted_37);\n  }), 128))], 512), _createElementVNode(\"button\", {\n    onClick: _cache[28] || (_cache[28] = $event => $options.scrollStories('left')),\n    class: \"absolute left-1 top-1/2 -translate-y-1/2 bg-white shadow rounded-full p-1 z-20\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"ic:round-chevron-left\",\n    class: \"w-5 h-5\"\n  })]), _createElementVNode(\"button\", {\n    onClick: _cache[29] || (_cache[29] = $event => $options.scrollStories('right')),\n    class: \"absolute right-1 top-1/2 -translate-y-1/2 bg-white shadow rounded-full p-1 z-20\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"ic:round-chevron-right\",\n    class: \"w-5 h-5\"\n  })])]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, (post, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: post.id,\n      class: \"bg-white border rounded-xl shadow-sm p-4 relative\"\n    }, [_createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"img\", {\n      src: post.avatar,\n      alt: \"User Avatar\",\n      class: \"w-10 h-10 rounded-full border border-gray-200 object-cover shadow-sm\"\n    }, null, 8, _hoisted_43), _createElementVNode(\"div\", null, [_createElementVNode(\"h2\", _hoisted_44, _toDisplayString(post.user), 1), _createElementVNode(\"p\", _hoisted_45, _toDisplayString(post.time), 1), post.location ? (_openBlock(), _createElementBlock(\"p\", _hoisted_46, _toDisplayString(post.location), 1)) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"button\", {\n      onClick: $event => $options.toggleFollow(index),\n      class: _normalizeClass([\"text-sm px-3 py-1\", post.isFollowing ? 'text-gray-700' : 'text-gray-700 hover:text-blue-500'])\n    }, _toDisplayString(post.isFollowing ? 'Following' : 'Follow'), 11, _hoisted_48), _createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _withModifiers($event => $options.toggleMenu(index), [\"stop\"]),\n      class: \"p-1 hover:bg-gray-100 rounded-full\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"bi:three-dots\",\n      class: \"w-5 h-5 text-gray-600\"\n    })], 8, _hoisted_50), $data.activeMenuIndex === index ? (_openBlock(), _createElementBlock(\"div\", _hoisted_51, [_createElementVNode(\"ul\", _hoisted_52, [_createElementVNode(\"li\", {\n      onClick: $event => $options.startEditPost(index),\n      class: \"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n    }, [_cache[67] || (_cache[67] = _createTextVNode(\" Edit Caption \")), _createVNode(_component_Icon, {\n      icon: \"lucide:edit\",\n      class: \"w-4 h-4\"\n    })], 8, _hoisted_53), _createElementVNode(\"li\", {\n      onClick: $event => $options.confirmDelete(index),\n      class: \"flex items-center justify-between px-4 py-2 hover:bg-gray-100 text-red-600 cursor-pointer\"\n    }, [_cache[68] || (_cache[68] = _createTextVNode(\" Delete Post \")), _createVNode(_component_Icon, {\n      icon: \"fluent:delete-32-regular\",\n      class: \"w-4 h-4\"\n    })], 8, _hoisted_54), _createElementVNode(\"li\", {\n      onClick: $event => $options.toggleComment(index),\n      class: \"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n    }, [_createTextVNode(_toDisplayString($data.posts[index].commentsDisabled ? 'On Comment' : 'Off Comment') + \" \", 1), _createVNode(_component_Icon, {\n      icon: $data.posts[index].commentsDisabled ? 'fluent:comment-48-regular' : 'fluent:comment-off-48-regular',\n      class: \"w-4 h-4\"\n    }, null, 8, [\"icon\"])], 8, _hoisted_55), _createElementVNode(\"li\", {\n      onClick: $event => $options.copylink(index),\n      class: \"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n    }, [_cache[69] || (_cache[69] = _createTextVNode(\" Copy Link \")), _createVNode(_component_Icon, {\n      icon: \"ri:link\",\n      class: \"w-4 h-4\"\n    })], 8, _hoisted_56), _createElementVNode(\"li\", {\n      onClick: $event => $options.shareTo(index),\n      class: \"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n    }, [_cache[70] || (_cache[70] = _createTextVNode(\" Report Post \")), _createVNode(_component_Icon, {\n      icon: \"ri:link\",\n      class: \"w-4 h-4\"\n    })], 8, _hoisted_57)])])) : _createCommentVNode(\"\", true), $data.showShareModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_58, [_createElementVNode(\"div\", _hoisted_59, [_createElementVNode(\"button\", {\n      onClick: _cache[30] || (_cache[30] = $event => $data.showShareModal = false),\n      class: \"absolute top-2 right-2\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"mdi:close\",\n      class: \"w-5 h-5\"\n    })]), _cache[71] || (_cache[71] = _createElementVNode(\"h2\", {\n      class: \"text-lg font-semibold mb-4\"\n    }, \"Report\", -1)), _createElementVNode(\"p\", null, \"Post ID: \" + _toDisplayString($data.posts[$data.activeSharedPostIndex]?.id), 1)])])) : _createCommentVNode(\"\", true)])])]), _createElementVNode(\"div\", _hoisted_60, [$data.editingIndex === index ? (_openBlock(), _createElementBlock(\"div\", _hoisted_61, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[31] || (_cache[31] = $event => $data.editedCaption = $event),\n      class: \"w-full border px-3 py-1 rounded focus:outline-none\"\n    }, null, 512), [[_vModelText, $data.editedCaption]]), _createElementVNode(\"div\", _hoisted_62, [_createElementVNode(\"button\", {\n      class: \"text-green-600 text-sm font-semibold hover:underline mr-2\",\n      onClick: $event => $options.saveEditedPost(index)\n    }, \"Save\", 8, _hoisted_63), _createElementVNode(\"button\", {\n      class: \"text-gray-500 text-sm hover:underline\",\n      onClick: _cache[32] || (_cache[32] = (...args) => $options.cancelEdit && $options.cancelEdit(...args))\n    }, \"Cancel\")])])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_64, _toDisplayString(post.caption), 1))]), post.link && post.link.type === 'website' ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: \"mt-4 border rounded-xl overflow-hidden hover:shadow-md transition-shadow cursor-pointer\",\n      onClick: $event => _ctx.window.open(post.link.url, '_blank')\n    }, [post.link.image ? (_openBlock(), _createElementBlock(\"div\", _hoisted_66, [_createElementVNode(\"img\", {\n      src: post.link.image,\n      class: \"w-full h-full object-cover\"\n    }, null, 8, _hoisted_67)])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_68, [_createElementVNode(\"p\", _hoisted_69, _toDisplayString(post.link.title || 'Untitled'), 1), post.link.description ? (_openBlock(), _createElementBlock(\"p\", _hoisted_70, _toDisplayString(post.link.description), 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"p\", _hoisted_71, _toDisplayString(post.link.domain), 1)])], 8, _hoisted_65)) : _createCommentVNode(\"\", true), post && post.link && post.link.type === 'youtube' && post.link.url ? (_openBlock(), _createElementBlock(\"iframe\", {\n      key: 1,\n      src: `https://www.youtube.com/embed/${$options.getYouTubeId(post.link.url)}`,\n      class: \"w-full aspect-video rounded-xl mt-2\",\n      allowfullscreen: \"\"\n    }, null, 8, _hoisted_72)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", {\n      ref_for: true,\n      ref: \"scrollContainer\",\n      class: \"flex gap-2 overflow-x-auto no-scrollbar snap-x snap-mandatory cursor-pointer\"\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(post.media, (media, i) => {\n      return _openBlock(), _createBlock(_resolveDynamicComponent(media.type.startsWith('video') ? 'video' : 'img'), {\n        key: i,\n        src: media.url,\n        class: \"rounded-xl flex-shrink-0 snap-start hover:brightness-75 transition h-72 object-contain\",\n        controls: \"\",\n        onClick: $event => $options.openMediaModal(media, post.media)\n      }, null, 8, [\"src\", \"onClick\"]);\n    }), 128))], 512), $data.selectedMedia ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 2,\n      class: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80\",\n      onTouchstart: _cache[36] || (_cache[36] = (...args) => $options.handleTouchStart && $options.handleTouchStart(...args)),\n      onTouchend: _cache[37] || (_cache[37] = (...args) => $options.handleTouchEnd && $options.handleTouchEnd(...args))\n    }, [_createElementVNode(\"button\", {\n      onClick: _cache[33] || (_cache[33] = (...args) => $options.closeMediaModal && $options.closeMediaModal(...args)),\n      class: \"cursor-pointer absolute top-4 right-4 z-50 text-white bg-black bg-opacity-60 p-2 rounded-full hover:bg-opacity-80\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"mdi:close\",\n      class: \"w-6 h-6 text-white\"\n    })]), $data.selectedIndex > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: _cache[34] || (_cache[34] = _withModifiers((...args) => $options.prevMedia && $options.prevMedia(...args), [\"stop\"])),\n      class: \"cursor-pointer absolute left-4 top-1/2 z-50 transform -translate-y-1/2 bg-black bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"ooui:previous-ltr\",\n      class: \"w-6 h-6 text-white\"\n    })])) : _createCommentVNode(\"\", true), $data.selectedIndex < $data.activePostMedia.length - 1 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: _cache[35] || (_cache[35] = _withModifiers((...args) => $options.nextMedia && $options.nextMedia(...args), [\"stop\"])),\n      class: \"cursor-pointer absolute right-4 top-1/2 -translate-y\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"ooui:next-ltr\",\n      class: \"w-6 h-6 text-white\"\n    })])) : _createCommentVNode(\"\", true), (_openBlock(), _createBlock(_resolveDynamicComponent($data.selectedMedia.type.startsWith('video') ? 'video' : 'img'), {\n      src: $data.selectedMedia.url,\n      class: \"max-w-full max-h-[90vh] object-contain rounded-xl\",\n      controls: \"\",\n      autoplay: \"\"\n    }, null, 8, [\"src\"]))], 32)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_73, [_createElementVNode(\"div\", {\n      class: \"flex items-center gap-4 cursor-pointer hover:text-red-500\",\n      onClick: $event => $options.toggleLike(index)\n    }, [_createVNode(_component_Icon, {\n      icon: post.liked ? 'fluent-emoji:red-heart' : 'octicon:heart-24',\n      class: \"w-5 h-5\"\n    }, null, 8, [\"icon\"]), _createElementVNode(\"p\", null, _toDisplayString($options.formatCount(post.likes || [])), 1)], 8, _hoisted_74), _createElementVNode(\"div\", {\n      class: \"flex items-center gap-4 cursor-pointer hover:text-blue-500\",\n      onClick: $event => $options.toggleCommentSection(index)\n    }, [_createVNode(_component_Icon, {\n      icon: \"tdesign:chat-bubble\",\n      class: \"w-5 h-5\"\n    }), _createElementVNode(\"p\", null, _toDisplayString($options.formatCount(post.commentsList?.length || [])), 1)], 8, _hoisted_75), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_76, [_createElementVNode(\"button\", {\n      onClick: _cache[38] || (_cache[38] = _withModifiers($event => $data.showRepostPopup = true, [\"stop\"])),\n      class: \"p-2 hover:text-gray-500 relative z-10 duration-100\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"mage:direction-up-right-2\",\n      class: \"w-5 h-5\"\n    })]), (_openBlock(), _createBlock(_Teleport, {\n      to: \"body\"\n    }, [$data.showRepostPopup ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      onClick: _cache[41] || (_cache[41] = (...args) => $options.closePopup && $options.closePopup(...args))\n    }, [_createElementVNode(\"div\", {\n      class: \"bg-white rounded-xl p-4 w-[420px] relative\",\n      onClick: _cache[40] || (_cache[40] = _withModifiers(() => {}, [\"stop\"]))\n    }, [_createElementVNode(\"div\", _hoisted_77, [_cache[72] || (_cache[72] = _createElementVNode(\"h2\", {\n      class: \"text-lg font-bold\"\n    }, \" iFeed \", -1)), _createElementVNode(\"button\", {\n      onClick: _cache[39] || (_cache[39] = (...args) => $options.closePopup && $options.closePopup(...args)),\n      class: \"text-gray-500 hover:text-black\"\n    }, [_createVNode(_component_Icon, {\n      icon: \"ri:close-line\"\n    })])]), _createElementVNode(\"div\", _hoisted_78, [_createElementVNode(\"img\", {\n      src: $data.currentUser.avatar,\n      class: \"w-10 h-10 rounded-full\"\n    }, null, 8, _hoisted_79), _cache[73] || (_cache[73] = _createElementVNode(\"input\", {\n      type: \"text\",\n      placeholder: \"Write something...\",\n      class: \"flex-1 border rounded px-2 py-1\"\n    }, null, -1))]), _createElementVNode(\"div\", _hoisted_80, [_cache[74] || (_cache[74] = _createElementVNode(\"p\", {\n      class: \"font-semibold mb-1\"\n    }, \" Sent to Friend \", -1)), _createElementVNode(\"div\", _hoisted_81, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.friends, (friend, index) => {\n      return _openBlock(), _createElementBlock(\"img\", {\n        key: index,\n        src: friend,\n        class: \"w-10 h-10 rounded-full\"\n      }, null, 8, _hoisted_82);\n    }), 128))])]), _createElementVNode(\"div\", null, [_cache[79] || (_cache[79] = _createElementVNode(\"p\", {\n      class: \"font-semibold mb-1\"\n    }, \"Share To\", -1)), _createElementVNode(\"div\", _hoisted_83, [_createElementVNode(\"button\", _hoisted_84, [_createVNode(_component_Icon, {\n      icon: \"ri:link\",\n      class: \"w-10 h-10\"\n    }), _cache[75] || (_cache[75] = _createElementVNode(\"span\", null, \"Copy\", -1))]), _createElementVNode(\"button\", _hoisted_85, [_createVNode(_component_Icon, {\n      icon: \"logos:telegram\",\n      class: \"w-10 h-10\"\n    }), _cache[76] || (_cache[76] = _createElementVNode(\"span\", null, \" Telegram \", -1))]), _createElementVNode(\"button\", _hoisted_86, [_createVNode(_component_Icon, {\n      icon: \"logos:facebook\",\n      class: \"w-10 h-10\"\n    }), _cache[77] || (_cache[77] = _createElementVNode(\"span\", null, \"Facebook\", -1))]), _createElementVNode(\"button\", _hoisted_87, [_createVNode(_component_Icon, {\n      icon: \"tdesign:chat-bubble\",\n      class: \"w-10 h-10 text-white transition-colors bg-green-500 border-4 border-green-500 rounded-xl duration-200 hover:text-gray-600\"\n    }), _cache[78] || (_cache[78] = _createElementVNode(\"span\", null, \"iFeed\", -1))])])])])])) : _createCommentVNode(\"\", true)]))])])]), post.showComments ? (_openBlock(), _createElementBlock(\"div\", _hoisted_88, [_createElementVNode(\"div\", {\n      class: \"text-gray-400 text-sm mb-1 cursor-pointer hover:text-gray-500\",\n      onClick: $event => post.viewAll = !post.viewAll\n    }, \" All \" + _toDisplayString($options.countTotalComments(post.commentsList)) + \" comments \", 9, _hoisted_89), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(post.viewAll ? post.commentsList : post.commentsList.slice(0, 1), (comment, i) => {\n      return _openBlock(), _createBlock(_component_CommentCard, {\n        key: i,\n        comment: comment,\n        depth: 0,\n        \"current-user\": $data.currentUser,\n        onReplyAdded: $options.updateCommentCount\n      }, null, 8, [\"comment\", \"current-user\", \"onReplyAdded\"]);\n    }), 128)), !post.commentsDisabled ? (_openBlock(), _createElementBlock(\"div\", _hoisted_90, [_createElementVNode(\"div\", _hoisted_91, [_createElementVNode(\"img\", {\n      src: $data.currentUser.avatar,\n      class: \"w-10 h-10 rounded-full border-2 flex-shrink-0\"\n    }, null, 8, _hoisted_92), _createElementVNode(\"div\", _hoisted_93, [_withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": $event => post.newComment = $event,\n      placeholder: \"Write a comment...\",\n      class: \"w-full px-12 py-3 pr-16 text-sm bg-gray-100 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-400\",\n      rows: \"1\",\n      onInput: _cache[42] || (_cache[42] = $event => $options.autoResize($event)),\n      onKeyup: _withKeys(_withModifiers($event => $options.addCommentToPost(index), [\"exact\", \"prevent\"]), [\"enter\"])\n    }, \"      \", 40, _hoisted_94), [[_vModelText, post.newComment]]), _createElementVNode(\"button\", {\n      class: \"absolute left-3 bottom-3 text-gray-500 hover:text-blue-500 py-2\",\n      onClick: _withModifiers($event => $options.toggleEmojiPicker(index), [\"stop\"])\n    }, [_createVNode(_component_Icon, {\n      icon: \"proicons:emoji\",\n      class: \"w-5 h-5\"\n    })], 8, _hoisted_95), _createElementVNode(\"label\", _hoisted_96, [_createVNode(_component_Icon, {\n      icon: \"tabler:photo\",\n      class: \"w-5 h-5\"\n    }), _createElementVNode(\"input\", {\n      type: \"file\",\n      accept: \"image/*,video/*\",\n      class: \"hidden\",\n      onChange: $event => $options.addCommentImage($event, index)\n    }, null, 40, _hoisted_97)]), post.newComment?.trim() || post.commentMedia?.length ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"absolute right-3 bottom-3 text-blue-500 hover:text-blue-600\",\n      onClick: $event => $options.addCommentToPost(index)\n    }, [_createVNode(_component_Icon, {\n      icon: \"famicons:paper-plane-outline\",\n      class: \"w-6 h-6\"\n    })], 8, _hoisted_98)) : _createCommentVNode(\"\", true)])]), post.commentMedia?.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_99, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(post.commentMedia, (media, i) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: i,\n        class: \"relative\"\n      }, [(_openBlock(), _createBlock(_resolveDynamicComponent(media.type.startsWith('video') ? 'video' : 'img'), {\n        src: media.url,\n        class: \"w-24 h-24 object-cover rounded-lg border\",\n        controls: \"\"\n      }, null, 8, [\"src\"])), _createElementVNode(\"button\", {\n        onClick: _withModifiers($event => $options.removeCommentMedia(index, i), [\"stop\"]),\n        class: \"absolute top-1 right-1 bg-black/60 text-white rounded-full p-1\"\n      }, [_createVNode(_component_Icon, {\n        icon: \"mdi:close\",\n        class: \"w-4 h-4\"\n      })], 8, _hoisted_100)]);\n    }), 128))])) : _createCommentVNode(\"\", true), $data.showEmojiPickerIndex === index ? (_openBlock(), _createElementBlock(\"div\", _hoisted_101, [_createElementVNode(\"div\", {\n      class: \"absolute bottom-full right-0 mb-2 z-50\",\n      onClick: _cache[43] || (_cache[43] = _withModifiers(() => {}, [\"stop\"]))\n    }, [_createVNode(_component_EmojiPicker, {\n      onSelect: emoji => $options.addEmojiToComment(emoji, index)\n    }, null, 8, [\"onSelect\"])])])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true)]);\n  }), 128))]), _createElementVNode(\"aside\", _hoisted_102, [_createElementVNode(\"div\", _hoisted_103, [_createElementVNode(\"div\", _hoisted_104, [_createElementVNode(\"img\", {\n    src: $data.currentUser.avatar,\n    alt: \"Profile\",\n    class: \"w-16 h-16 rounded-full object-cover border-4\"\n  }, null, 8, _hoisted_105), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[44] || (_cache[44] = (...args) => $options.goToProfileUser && $options.goToProfileUser(...args)),\n    class: \"font-medium text-blue-600 hover:text-gray-800\"\n  }, \" View profile \"), _createElementVNode(\"p\", _hoisted_106, _toDisplayString($data.currentUser.name), 1)])]), _createElementVNode(\"button\", {\n    onClick: _cache[45] || (_cache[45] = (...args) => $options.togglechat && $options.togglechat(...args)),\n    class: \"text-xl hover:text-blue-600\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"basil:comment-outline\",\n    class: \"w-6 h-6 transition\"\n  })])]), (_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [_createVNode(_Transition, {\n    name: \"slide-in\"\n  }, {\n    default: _withCtx(() => [$data.showChatPopup ? (_openBlock(), _createBlock(_component_ChatPanel, {\n      key: 0,\n      friends: $data.suggestedFriends,\n      selectedUser: $data.selectedUser,\n      onClose: _cache[46] || (_cache[46] = $event => $data.showChatPopup = false),\n      onFriendSelected: $options.handleFriendSelected\n    }, null, 8, [\"friends\", \"selectedUser\", \"onFriendSelected\"])) : _createCommentVNode(\"\", true)]),\n    _: 1\n  })])), _createElementVNode(\"div\", _hoisted_107, [_cache[80] || (_cache[80] = _createElementVNode(\"h2\", {\n    class: \"font-semibold text-gray-800 hover:text-blue-600\"\n  }, \" Suggested for you\", -1)), _createElementVNode(\"button\", {\n    onClick: _cache[47] || (_cache[47] = (...args) => _ctx.ShowAll && _ctx.ShowAll(...args)),\n    class: \"text-sm text-gray-500 hover:text-blue-600\"\n  }, \" Show All\")]), _createElementVNode(\"ul\", _hoisted_108, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.suggestedUsers, user => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: user.id,\n      class: \"flex items-start gap-2 hover:bg-gray-50 p-2 rounded\"\n    }, [_createElementVNode(\"img\", {\n      src: user.avatar,\n      alt: \"suggested\",\n      class: \"w-10 h-10 rounded-full border-2 border-purple-600\"\n    }, null, 8, _hoisted_109), _createElementVNode(\"div\", _hoisted_110, [_createElementVNode(\"span\", _hoisted_111, _toDisplayString(user.username), 1), _cache[81] || (_cache[81] = _createElementVNode(\"button\", {\n      class: \"w-20 text-sm font-medium text-blue-600 py-1 rounded hover:text-gray-700 transition duration-200\"\n    }, \" Follow \", -1))])]);\n  }), 128))]), _cache[82] || (_cache[82] = _createElementVNode(\"div\", {\n    class: \"mt-8 text-center text-xs text-gray-400\"\n  }, \" Â© 2025 iFeed. All rights reserved. TeamDevOP.Sihanouk Ville City.Cambodia \", -1))]), $data.activeStory ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]\",\n    onClick: _cache[57] || (_cache[57] = _withModifiers((...args) => $options.closeStory && $options.closeStory(...args), [\"self\"]))\n  }, [_createElementVNode(\"div\", _hoisted_112, [_createElementVNode(\"div\", _hoisted_113, [(_openBlock(), _createBlock(_resolveDynamicComponent($data.activeStory.type === 'video' ? 'video' : 'img'), _mergeProps({\n    src: $data.activeStory.media,\n    class: \"w-full h-full object-cover pointer-events-none\"\n  }, $data.activeStory.type === 'video' ? {\n    autoplay: true,\n    muted: true,\n    loop: true,\n    playsinline: true\n  } : {}), null, 16, [\"src\"]))]), _createElementVNode(\"div\", _hoisted_114, [_createElementVNode(\"div\", _hoisted_115, [_createElementVNode(\"div\", {\n    class: \"h-full bg-white rounded\",\n    style: _normalizeStyle({\n      width: _ctx.progress + '%'\n    })\n  }, null, 4)]), _createElementVNode(\"div\", _hoisted_116, [_createElementVNode(\"div\", _hoisted_117, [_createElementVNode(\"img\", {\n    src: $data.activeStory.avatar,\n    alt: \"Poster Avatar\",\n    class: \"w-8 h-8 rounded-full ring-2 ring-purple-500\"\n  }, null, 8, _hoisted_118), _createElementVNode(\"div\", _hoisted_119, [_createElementVNode(\"p\", _hoisted_120, _toDisplayString($data.activeStory.username), 1), _createElementVNode(\"p\", _hoisted_121, _toDisplayString($data.activeStory.time), 1)])]), _createElementVNode(\"button\", {\n    onClick: _cache[48] || (_cache[48] = (...args) => $options.closeStory && $options.closeStory(...args)),\n    class: \"p-2 hover:bg-white/10 rounded-full\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"material-symbols:close\",\n    class: \"w-5 h-5 text-white\"\n  })])])]), _createElementVNode(\"button\", {\n    onClick: _cache[49] || (_cache[49] = (...args) => $options.prevStory && $options.prevStory(...args)),\n    class: \"absolute left-0 top-0 h-full w-1/4 z-10\"\n  }), _createElementVNode(\"button\", {\n    onClick: _cache[50] || (_cache[50] = (...args) => $options.nextStory && $options.nextStory(...args)),\n    class: \"absolute right-0 top-0 h-full w-1/4 z-10\"\n  }), _createElementVNode(\"button\", {\n    onClick: _cache[51] || (_cache[51] = (...args) => $options.prevStory && $options.prevStory(...args)),\n    class: \"absolute left-3 top-1/2 -translate-y-1/2 z-40 p-2 rounded-full bg-black/30 hover:bg-black/50\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"ooui:next-rtl\",\n    class: \"w-6 h-6 text-white\"\n  })]), _createElementVNode(\"button\", {\n    onClick: _cache[52] || (_cache[52] = (...args) => $options.nextStory && $options.nextStory(...args)),\n    class: \"absolute right-3 top-1/2 -translate-y-1/2 z-40 p-2 rounded-full bg-black/30 hover:bg-black/50\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"ooui:next-ltr\",\n    class: \"w-6 h-6 text-white\"\n  })]), _createElementVNode(\"div\", _hoisted_122, [_createElementVNode(\"div\", _hoisted_123, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[53] || (_cache[53] = $event => $data.replyText = $event),\n    type: \"text\",\n    placeholder: \"Send message...\",\n    class: \"flex-1 bg-white/90 text-[13px] rounded-full px-4 py-2 outline-none\",\n    onKeydown: _cache[54] || (_cache[54] = _withKeys(_withModifiers((...args) => $options.sendReply && $options.sendReply(...args), [\"prevent\"]), [\"enter\"]))\n  }, null, 544), [[_vModelText, $data.replyText]]), _createElementVNode(\"button\", {\n    onClick: _cache[55] || (_cache[55] = (...args) => $options.toggleLike && $options.toggleLike(...args)),\n    class: \"p-2 rounded-full hover:bg-white/20 transition-colors\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"solar:heart-linear\",\n    class: _normalizeClass(['w-5 h-5 transition-transform transition-colors', $data.activeStory.liked ? 'text-red-500 scale-125' : 'text-white scale-100'])\n  }, null, 8, [\"class\"])]), _createElementVNode(\"button\", {\n    class: \"p-2 rounded-full bg-white/10 hover:bg-white/20\",\n    onClick: _cache[56] || (_cache[56] = (...args) => $options.sendReply && $options.sendReply(...args))\n  }, [_createVNode(_component_Icon, {\n    icon: \"meteor-icons:paper-plane\",\n    class: \"w-5 h-5 text-white\"\n  })])])])])])) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["class","title","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","goToMainfeed","_createVNode","_component_Icon","icon","_hoisted_3","_component_FriendSearch","users","$data","friends","onSelect","_ctx","handleFollow","_hoisted_4","$event","showNotify","notifications","length","_hoisted_5","_toDisplayString","_hoisted_6","openPostModal","_hoisted_7","_component_Notify","_createBlock","_Teleport","to","showPostModal","_withModifiers","closePostModal","composerType","_hoisted_8","_hoisted_9","newPost","onInput","handlePostInput","placeholder","_hoisted_10","_hoisted_11","_hoisted_12","type","accept","multiple","onChange","handleFileUpload","_hoisted_13","getLocation","showLocationPopup","onKeydown","_withKeys","closeLocation","tabindex","_hoisted_14","_hoisted_15","_hoisted_16","locationInput","onKeyup","confirmLocation","suggestions","_hoisted_17","_Fragment","_renderList","s","i","key","pickSuggestion","_hoisted_19","name","_hoisted_20","desc","toggleReplyComment","_hoisted_21","toggleEmojiPicker","showEmojiPickerIndex","_component_EmojiPicker","EmojiToPost","submitPost","activePreview","_hoisted_22","_hoisted_23","closePreview","_resolveDynamicComponent","startsWith","src","media","url","controls","autoplay","mediaPreviews","_hoisted_24","file","index","openPreview","removeMedia","_hoisted_27","toggleSettings","showSettings","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","goLogin","_hoisted_34","_hoisted_35","_hoisted_36","stories","story","id","openStory","_hoisted_38","_hoisted_40","username","scrollStories","posts","post","_hoisted_41","_hoisted_42","avatar","alt","_hoisted_44","user","_hoisted_45","time","location","_hoisted_46","_hoisted_47","toggleFollow","_normalizeClass","isFollowing","_hoisted_48","_hoisted_49","toggleMenu","activeMenuIndex","_hoisted_51","_hoisted_52","startEditPost","confirmDelete","toggleComment","commentsDisabled","copylink","shareTo","showShareModal","_hoisted_58","_hoisted_59","activeSharedPostIndex","_hoisted_60","editingIndex","_hoisted_61","editedCaption","_hoisted_62","saveEditedPost","_hoisted_63","cancelEdit","_hoisted_64","caption","link","window","open","image","_hoisted_66","_hoisted_68","_hoisted_69","description","_hoisted_70","_hoisted_71","domain","getYouTubeId","allowfullscreen","openMediaModal","selectedMedia","onTouchstart","handleTouchStart","onTouchend","handleTouchEnd","closeMediaModal","selectedIndex","prevMedia","activePostMedia","nextMedia","_hoisted_73","toggleLike","liked","formatCount","likes","toggleCommentSection","commentsList","_hoisted_76","showRepostPopup","closePopup","_hoisted_77","_hoisted_78","currentUser","_hoisted_80","_hoisted_81","friend","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","showComments","_hoisted_88","viewAll","countTotalComments","_hoisted_89","slice","comment","_component_CommentCard","depth","onReplyAdded","updateCommentCount","_hoisted_90","_hoisted_91","_hoisted_93","newComment","rows","autoResize","addCommentToPost","_hoisted_94","_hoisted_96","addCommentImage","trim","commentMedia","_hoisted_99","removeCommentMedia","_hoisted_101","emoji","addEmojiToComment","_hoisted_102","_hoisted_103","_hoisted_104","goToProfileUser","_hoisted_106","togglechat","_Transition","showChatPopup","_component_ChatPanel","suggestedFriends","selectedUser","onClose","onFriendSelected","handleFriendSelected","_hoisted_107","ShowAll","_hoisted_108","suggestedUsers","_hoisted_110","_hoisted_111","activeStory","closeStory","_hoisted_112","_hoisted_113","_mergeProps","_hoisted_114","_hoisted_115","style","_normalizeStyle","width","progress","_hoisted_116","_hoisted_117","_hoisted_119","_hoisted_120","_hoisted_121","prevStory","nextStory","_hoisted_122","_hoisted_123","replyText","sendReply"],"sources":["D:\\login-feed\\src\\views\\Mainfeed.vue"],"sourcesContent":["\r\n<template>\r\n<div class=\" w-95  flex flex-col md:flex-row min-h-[100dvh] bg-white \">\r\n\r\n\r\n<!-- Left Sidebar -->\r\n<aside class=\"w-20 bg-white border-r border-gray-200 sticky top-0 h-[100dvh] flex flex-col items-center py-8 space-y-8 hidden md:flex\">\r\n\r\n  <!--Logo Icon  -->\r\n  <button \r\n    @click=\"goToMainfeed\"\r\n    class=\"p-2 rounded-xl hover:bg-green-50 transition-all duration-200 group\">\r\n    <Icon icon=\"tdesign:chat-bubble\" \r\nclass=\"w-10 h-10 text-white transition-colors bg-green-500\r\n border-4 border-green-500 rounded-xl duration-200 hover:text-gray-600 mb-10\" \r\n    />\r\n  </button>\r\n\r\n  <!-- Search Reused-->\r\n  <div class=\"relative\">\r\n\r\n    <FriendSearch\r\n    :users=\"friends\"\r\n    action-text=\"Follow\"\r\n    @select=\"handleFollow\"/>\r\n  </div>\r\n\r\n\r\n\r\n  <!-- Navigation Icons -->\r\n  <nav class=\"flex-1 flex flex-col items-center space-y-6 justify-center\">\r\n    \r\n    <!-- Notifications  heart icon  -->\r\n    <button @click=\"showNotify = true\"\r\n            class=\"relative p-3 rounded-xl hover:bg-gray-100 transition-all duration-200 group\">\r\n      <Icon icon=\"solar:heart-outline\" class=\"w-7 h-7 text-gray-600 group-hover:text-gray-900\"/>\r\n      <span v-if=\"notifications.length > 0\"\r\n            class=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-md\">\r\n        {{ notifications.length > 99 ? '99+' : notifications.length }}\r\n      </span>\r\n    </button>\r\n\r\n    <!-- Home -->\r\n    <button class=\"p-2 rounded-xl hover:bg-gray-100 transition-all duration-200 group\">\r\n      <Icon icon=\"proicons:home\" \r\n      class=\"w-7 h-7 text-gray-600 group-hover:text-gray-900\"/>\r\n    </button>\r\n\r\n    <!-- Create Post-->\r\n    <button @click=\"openPostModal\"\r\n            class=\"p-4 rounded-xl hover:bg-gray-50 transition-all duration-300 group\">\r\n      <div class=\"p-1 bg-gray-400 border-4 border-gradient-to-br from-blue-600 to-green-500\r\n       rounded-xl shadow-lg\r\n        group-hover:shadow-xl group-hover:scale-110 transition-all duration-300\">\r\n        <Icon icon=\"ic:baseline-plus\"\r\n         class=\"w-10 h-8 text-gray-500\"/>\r\n       \r\n      </div>\r\n    </button>\r\n\r\n  \r\n\r\n\r\n<!-- Reusable Notification Popup  -->\r\n  <Notify\r\n    v-model=\"showNotify\"\r\n    :notifications=\"notifications\"/> \r\n<!------>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<teleport to=\"body\">\r\n<!-- Floating Composer Modal -->\r\n <div\r\n      v-if=\"showPostModal\"\r\n      class=\"fixed inset-0 bg-black bg-opacity-50\r\n       flex items-center justify-center z-[9999]\"\r\n      @click.self=\"closePostModal\">\r\n      <div class=\"bg-white w-full max-w-xl rounded-xl p-6 relative\" @click.stop>\r\n\r\n        <!-- Close Button -->\r\n        <button @click=\"closePostModal\" \r\n        class=\"absolute top-2 right-2 text-gray-500 hover:text-black text-2xl\">\r\n          <Icon icon=\"basil:cross-solid\" />\r\n        </button>\r\n\r\n        <!-- Story / Post Selector -->\r\n        <div v-if=\"!composerType\" class=\"bg-white w-h-full rounded-xl p-6 space-y-2 \">\r\n          <h2 class=\"text-center font-semibold text-lg\">\r\n            Create</h2>\r\n\r\n          <button @click=\"composerType = 'story'\"\r\n           class=\"w-full flex items-center gap-3 p-4 border rounded-xl hover:bg-gray-100\">\r\n            <Icon icon=\"fluent-color:history-32\"\r\n             class=\"w-8 h-8 text-green-600\" />\r\n            <p class=\"font-medium\">Create Story</p>\r\n          </button>\r\n          <button @click=\"composerType = 'post'\" \r\n          class=\"w-full flex items-center gap-3 \r\n          p-4 border rounded-xl hover:bg-gray-100\">\r\n            <Icon icon=\"system-uicons:postcard\" \r\n            class=\"w-8 h-8 text-blue-500\" />\r\n            <span class=\"font-medium\">\r\n              Create Post</span>\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Composer UI -->\r\n        <div v-if=\"composerType\">\r\n          <!-- Caption / Textarea -->\r\n\r\n\r\n          <textarea\r\n            ref=\"textareaRef\"\r\n            v-model=\"newPost\"\r\n            @input=\"handlePostInput\"\r\n            :placeholder=\"composerType === 'story' ? 'Add a caption to your story...'\r\n             : 'What\\'s on your mind?'\"\r\n            class=\"w-full border border-gray-300 rounded-xl \r\n            p-3 focus:outline-none focus:ring-2 \r\n            focus:ring-blue-300 resize-none mb-4 bg-white/90\">\r\n        </textarea>\r\n\r\n          <!-- Upload Media -->\r\n          <label class=\"cursor-pointer flex items-center gap-2 mb-4\" title=\"Upload Media\">\r\n            <Icon icon=\"system-uicons:postcard\" class=\"w-8 h-8 text-blue-500\" />\r\n          \r\n            <span class=\"font-medium\">\r\n              \r\n              {{ composerType === 'story' ? 'Add to Story' : 'Upload Post' }}</span>\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*,video/*\"\r\n              multiple\r\n              class=\"hidden\"\r\n              @change=\"handleFileUpload\"/>\r\n              \r\n          </label>\r\n\r\n\r\n\r\n          \r\n<!----->\r\n\r\n\r\n\r\n\r\n\r\n<!-- Action Icons  Post Right aligned -->\r\n<div class=\"flex justify-end items-center gap-4 text-gray-600 mb-3 px-2\">\r\n<!-- Location Icon Button -->\r\n<button @click=\"getLocation\" title=\"Location\">\r\n<Icon icon=\"mynaui:location\" class=\"w-5 h-5\" />\r\n</button>\r\n\r\n<!-- Location Popup Modal -->\r\n<teleport to=\"body\">\r\n<div\r\nv-if=\"showLocationPopup\"\r\nclass=\"fixed inset-0 z-[10000] flex items-center justify-center bg-black/50\"\r\n@keydown.esc=\"closeLocation\"\r\ntabindex=\"-1\"\r\n@click.self=\"closeLocation\" >\r\n\r\n<!-- Card -->\r\n<div\r\nclass=\"bg-white rounded-2xl shadow-xl w-[420px] max-w-[92vw] h-[70vh] max-h-[720px] overflow-hidden flex flex-col\"\r\n@click.stop>\r\n\r\n\r\n\r\n<!-- Header -->\r\n<div class=\"h-12 flex items-center justify-center border-b relative\">\r\n<button\r\nclass=\"absolute left-2 p-2 rounded hover:bg-gray-100\"\r\n@click=\"closeLocation\"\r\naria-label=\"Back\">\r\n<Icon icon=\"mdi:chevron-left\" class=\"w-5 h-5\" />\r\n</button>\r\n\r\n<h2 class=\"text-sm font-semibold\">Choose a Place</h2>\r\n<button\r\nclass=\"absolute right-2 p-2 rounded hover:bg-gray-100\"\r\n@click=\"closeLocation\"\r\naria-label=\"Close\">\r\n\r\n<Icon icon=\"material-symbols:close\"/>\r\n</button>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- Body -->\r\n<div class=\"p-4 flex-1\">\r\n<div class=\"relative\">\r\n<input\r\nref=\"locationInputRef\"\r\n v-model=\"locationInput\"\r\n type=\"text\"\r\n placeholder=\"Add Location...\"\r\nclass=\"w-full px-4 py-2 pr-10 rounded-lg bg-gray-200/70 text-sm outline-none\"\r\n@keyup.enter=\"confirmLocation\"/>\r\n\r\n<button\r\nclass=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 text-gray-600 hover:text-green-600\"\r\n@click=\"confirmLocation\"\r\naria-label=\"Send\">\r\n<Icon icon=\"ph:paper-plane-tilt-duotone\" class=\"w-5 h-5\" />\r\n</button>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- Optional suggestions list -->\r\n<div v-if=\"suggestions.length\" class=\"mt-4 space-y-2 overflow-y-auto max-h-[48vh] pr-1\">\r\n<button\r\nv-for=\"(s, i) in suggestions\"\r\n:key=\"i\"\r\nclass=\"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100\"\r\n@click=\"pickSuggestion(s)\">\r\n<div class=\"text-sm font-medium\">{{ s.name }}</div>\r\n<div class=\"text-xs text-gray-500\">{{ s.desc }}</div>\r\n</button>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n</teleport>\r\n\r\n\r\n<!-- Location Popup Modal -->\r\n\r\n\r\n\r\n\r\n\r\n<!-- Comment icon -->                                                     \r\n<button @click=\"toggleReplyComment\" title=\"Comment\">\r\n<Icon icon=\"iconamoon:comment\" class=\"w-5 h-5 \" />\r\n</button>\r\n\r\n<!-- Emoji Picker icon -->\r\n<div class=\"relative\" ref=\"emojiWrapper\">\r\n  <button\r\n    @click.stop=\"toggleEmojiPicker('composer')\"\r\n    title=\"Emoji\">\r\n  <Icon icon=\"mingcute:emoji-line\" class=\"w-5 h-5 mr-5 mt-2\" />\r\n  </button>\r\n\r\n  <div\r\n    v-if=\"showEmojiPickerIndex === 'composer'\"\r\n    class=\"absolute z-50 top-8 right-0\"\r\n    @click.stop>\r\n    <EmojiPicker @select=\"EmojiToPost\" />\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- Post Button-->\r\n<button\r\n  class=\"text-sm font-semibold text-gray-700 hover:text-blue-600\"\r\n  @click=\"submitPost\">\r\n  {{ composerType === 'story' ? 'Share Story' : 'Post' }}\r\n</button>\r\n\r\n</div>\r\n<!-- Post -->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- Preview Modal for Media before  post  -->\r\n<div\r\n v-if=\"activePreview\"\r\n class=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80\">\r\n<div class=\"relative max-w-3xl w-full max-h-[90vh]\">\r\n<button\r\n@click=\"closePreview\"\r\nclass=\"fixed top-6 right-6 z-50 text-white bg-black bg-opacity-50   p-2 rounded-full hover:bg-opacity-70\">\r\n\r\n\r\n\r\n<Icon icon=\"mdi:close\" class=\"w-6 h-6\" />\r\n</button>\r\n<component\r\n:is=\"activePreview.type.startsWith('video') ? 'video' : 'img'\"\r\n:src=\"media.url\"\r\nclass=\"w-auto max-w-full max-h-[90vh] object-contain mx-auto rounded-xl\"\r\ncontrols\r\nautoplay/>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- Media Previews -->\r\n\r\n<div v-if=\"mediaPreviews.length\" class=\"grid grid-cols-2 gap-2 mt-2\">\r\n<div\r\nv-for=\"(file, index) in mediaPreviews\"\r\n:key=\"index\"\r\nclass=\"relative group rounded-lg overflow-hidden border cursor-pointer\"\r\n@click=\"openPreview(file)\">\r\n<component\r\n:is=\"file.type.startsWith('video') ? 'video' : 'img'\"\r\n:src=\"file.url\"\r\nclass=\"w-full h-48 object-cover\"\r\ncontrols/>\r\n<button\r\n@click.stop=\"removeMedia(index)\"\r\nclass=\"relative\">\r\n<Icon icon=\"mdi:close\" class=\"w-4 h-4\" />\r\n</button>\r\n\r\n\r\n\r\n </div>\r\n</div>\r\n</div> \r\n\r\n\r\n\r\n<!--When  Post a Composer -->\r\n</div>\r\n</div>\r\n</teleport>\r\n\r\n\r\n</nav>\r\n\r\n<div class=\"mt-40 mb-5 relative\">\r\n  <!-- Settings Icon -->\r\n  <div \r\n    @click=\"toggleSettings\"  \r\n    class=\"relative z- hover:bg-gray-200 rounded-xl\">\r\n  <Icon icon=\"famicons:reorder-three-outline\"  \r\n  class=\"w-8 h-8 text-gray-500 transition-colors duration-200 hover:text-gray-600\"/>  <!---Setting-->\r\n  </div>\r\n </div>\r\n</aside>   \r\n\r\n\r\n\r\n <div>\r\n<!-- Settings Popup -->\r\n<teleport to=\"body\">\r\n  <!-- Overlay (click outside) -->\r\n  <div\r\n    v-if=\"showSettings\"\r\n    class=\"fixed inset-0 z-40\"\r\n    @click.self=\"showSettings = false\">\r\n    <!-- Popup -->\r\n    <div\r\n      class=\"absolute top-20 left-40 w-72 bg-white shadow-lg border-2 border-gray-300 rounded-xl p-4 z-50\">\r\n\r\n      <!-- Menu Sections -->\r\n      <div class=\"divide-y bg-white\">\r\n\r\n        <!-- Section 1 -->\r\n        <div>\r\n          <div class=\"py-3 flex justify-between items-center cursor-pointer hover:bg-gray-50 px-2 rounded\">\r\n            <span class=\"font-medium\">Switch Mode</span>\r\n            <Icon icon=\"ooui:next-ltr\"/>\r\n          </div>\r\n          <div class=\"py-3 px-2 cursor-pointer hover:bg-gray-50 \r\n          rounded\">Daily Review</div>\r\n          <div class=\"py-3 px-2 cursor-pointer hover:bg-gray-50 \r\n          rounded\">Setting</div>\r\n        </div>\r\n\r\n        <!-- Section 2 -->\r\n        <div>\r\n          <div class=\"py-3 flex justify-between items-center cursor-pointer hover:bg-gray-200 px-2 rounded\">\r\n            <button>\r\n              iFeed\r\n            </button>\r\n            <Icon icon=\"ooui:next-ltr\"/>\r\n          </div>\r\n          <div class=\"py-3 px-2 cursor-pointer hover:bg-gray-200 rounded\">Feedback</div>\r\n          <div class=\"py-3 px-2 cursor-pointer hover:text-gray-600 rounded flex items-center gap-2\">\r\n            <Icon icon=\"akar-icons:heart\" class=\"w-8 h-8\"/>\r\n          </div>\r\n        </div>\r\n\r\n<!-- Logout -->\r\n        <div>\r\n          <div class=\"py-3 px-2 cursor-pointer hover:bg-gray-50 rounded text-red-500 flex items-center gap-2\">\r\n            <Icon\r\n              icon=\"material-symbols:logout\"\r\n              class=\"w-8 h-8 cursor-pointer\"\r\n              @click=\"goLogin\"/>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</teleport>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- MainiFeed -->\r\n<main class=\"flex-5 max-w-2xl mx-auto px-10 py-5 \">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- STORIES WRAPPER -->\r\n<div class=\"relative w-full mb-4\">\r\n\r\n  <!-- Stories Container -->\r\n  <div\r\n    ref=\"storyScrollRef\"\r\n    class=\"flex gap-4 overflow-x-auto scroll-smooth px-2 no-scrollbar\">\r\n    <div\r\n      v-for=\"(story, i) in stories\"\r\n      :key=\"story.id\"\r\n      @click=\"openStory(i)\"\r\n      class=\"flex flex-col items-center flex-shrink-0 w-[90px] cursor-pointer\">\r\n      <!-- Gradient Border -->\r\n      <div class=\"w-20 h-20 rounded-xl p-[2px] bg-gradient-to-tr from-purple-500 to-pink-500\">\r\n        <img\r\n          :src=\"story.media\"\r\n          class=\"w-full h-full rounded-lg object-cover bg-white\"/>\r\n      </div>\r\n      <p class=\"text-xs mt-2 text-gray-700 truncate w-full text-center\">\r\n        {{ story.username }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- LEFT ARROW -->\r\n  <button\r\n    @click=\"scrollStories('left')\"\r\n    class=\"absolute left-1 top-1/2 -translate-y-1/2 bg-white shadow rounded-full p-1 z-20\">\r\n    <Icon icon=\"ic:round-chevron-left\" class=\"w-5 h-5\" />\r\n  </button>\r\n\r\n  <!-- RIGHT ARROW -->\r\n  <button\r\n    @click=\"scrollStories('right')\"\r\n    class=\"absolute right-1 top-1/2 -translate-y-1/2 bg-white shadow rounded-full p-1 z-20\">\r\n    <Icon icon=\"ic:round-chevron-right\" class=\"w-5 h-5\" />\r\n  </button>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<!-- Post a Composer 1  box Media post -->\r\n\r\n<div v-for=\"(post, index) in posts\" :key=\"post.id\"\r\n class=\"bg-white border rounded-xl shadow-sm p-4  relative  \">\r\n<!-- Post Header -->\r\n\r\n<div class=\"flex items-center justify-between mb-2 rounded-xl\">\r\n\r\n\r\n<!-- Avatar  User Info -->\r\n<div class=\"flex items-center gap-2 \">\r\n<img\r\n:src=\"post.avatar\"\r\nalt=\"User Avatar\"\r\nclass=\"w-10 h-10 rounded-full border border-gray-200 object-cover shadow-sm\"/>\r\n<div>\r\n<h2 class=\"text-sm font-semibold text-gray-800\">{{ post.user }}</h2>\r\n<p class=\"text-xs text-gray-400\">{{ post.time }}</p>\r\n<!---Location text-->\r\n<p v-if=\"post.location\" class=\"text-xs text-gray-400\">{{ post.location }}</p>\r\n\r\n</div>\r\n</div>\r\n\r\n<div class=\"flex items-center gap-2\">\r\n  <!-- Follow Button -->\r\n  <button\r\n    @click=\"toggleFollow(index)\"\r\n    class=\"text-sm px-3 py-1\"\r\n    :class=\"post.isFollowing\r\n      ? 'text-gray-700'\r\n      : 'text-gray-700 hover:text-blue-500'\">\r\n    {{ post.isFollowing ? 'Following' : 'Follow' }}\r\n  </button>\r\n\r\n\r\n\r\n \r\n  <!-- Three-dot Menu -->\r\n<div class=\"relative z-20 pointer-events-auto\">\r\n  <button\r\n    type=\"button\"\r\n    @click.stop=\"toggleMenu(index)\"\r\n    class=\"p-1 hover:bg-gray-100 rounded-full\">\r\n  <Icon icon=\"bi:three-dots\" class=\"w-5 h-5 text-gray-600\" />\r\n  </button>\r\n\r\n  <!-- Dropdown Menu -->\r\n  <div\r\n  v-if=\"activeMenuIndex === index\"\r\n  class=\"absolute right-0 mt-2 w-52 bg-white border border-gray-200 rounded-xl shadow-lg z-50\">\r\n    <ul class=\"text-sm text-gray-700 py-2\">\r\n\r\n      <li\r\n        @click=\"startEditPost(index)\"\r\n        class=\"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\">\r\n        Edit Caption\r\n        <Icon icon=\"lucide:edit\" class=\"w-4 h-4\"/>\r\n      </li>\r\n      \r\n      <li\r\n        @click=\"confirmDelete(index)\"\r\n        class=\"flex items-center justify-between px-4 py-2 hover:bg-gray-100 text-red-600 cursor-pointer\">\r\n        Delete Post\r\n        <Icon icon=\"fluent:delete-32-regular\" class=\"w-4 h-4\" />\r\n      </li>\r\n\r\n<li\r\n  @click=\"toggleComment(index)\"\r\n  class=\"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\">\r\n  {{ posts[index].commentsDisabled ? 'On Comment' : 'Off Comment' }}\r\n  <Icon\r\n    :icon=\"posts[index].commentsDisabled ? 'fluent:comment-48-regular' : 'fluent:comment-off-48-regular'\"\r\n    class=\"w-4 h-4\"/>\r\n</li>\r\n\r\n      <li\r\n        @click=\"copylink(index)\"\r\n        class=\"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\">\r\n        Copy Link\r\n        <Icon icon=\"ri:link\" class=\"w-4 h-4\" />\r\n      </li>\r\n\r\n      <li\r\n        @click=\"shareTo(index)\"\r\n        class=\"flex items-center justify-between px-4 py-2 hover:bg-gray-100 cursor-pointer\">\r\n        Report Post\r\n        <Icon icon=\"ri:link\" class=\"w-4 h-4\" />\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n<!----Open Model sent to frien-->\r\n  <div v-if=\"showShareModal\" class=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n  <div class=\"bg-white w-96 p-6 rounded-xl shadow-xl relative\">\r\n  <button @click=\"showShareModal = false\"\r\n   class=\"absolute top-2 right-2\">\r\n  <Icon icon=\"mdi:close\" class=\"w-5 h-5\" />\r\n  </button>\r\n  <h2 class=\"text-lg font-semibold mb-4\">Report</h2>\r\n  <p>Post ID: {{ posts[activeSharedPostIndex]?.id }}</p>\r\n <!-- Add actual sharing buttons here -->\r\n   </div>\r\n   </div>\r\n   </div>\r\n   </div>\r\n   </div>\r\n<!-- Dropdown Menu buttonm-->\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- Caption or Editable -->\r\n  <div class=\"mb-4\">\r\n  <div v-if=\"editingIndex === index\">\r\n        <input v-model=\"editedCaption\"\r\n         class=\"w-full border px-3 py-1 rounded focus:outline-none\" />\r\n        <div class=\"text-right mt-1\">\r\n        <button class=\"text-green-600 text-sm font-semibold hover:underline mr-2\"\r\n         @click=\"saveEditedPost(index)\">Save</button>\r\n        <button class=\"text-gray-500 text-sm hover:underline\"\r\n         @click=\"cancelEdit\">Cancel</button>\r\n        </div>\r\n        </div>\r\n        <p v-else> {{ post.caption }}</p>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n<!-- Website Link Preview Card -->\r\n<div\r\n  v-if=\"post.link && post.link.type === 'website'\"\r\n  class=\"mt-4 border rounded-xl overflow-hidden hover:shadow-md transition-shadow cursor-pointer\"\r\n  @click=\"window.open(post.link.url, '_blank')\">\r\n  <div v-if=\"post.link.image\" class=\"w-full h-48 bg-gray-200\">\r\n    <img :src=\"post.link.image\" class=\"w-full h-full object-cover\" />\r\n  </div>\r\n  <div class=\"p-3 bg-white\">\r\n    <p class=\"text-sm font-medium text-gray-900 line-clamp-2\">\r\n      {{ post.link.title || 'Untitled' }}</p>\r\n    <p v-if=\"post.link.description\" \r\n    class=\"text-xs text-gray-600 mt-1 line-clamp-2\">\r\n      {{ post.link.description }}</p>\r\n    <p class=\"text-xs text-gray-500 mt-2 truncate\">\r\n      {{ post.link.domain }}</p>\r\n  </div>\r\n</div>\r\n\r\n  <!-- YouTube Link -->\r\n  <iframe\r\n    v-if=\"post && post.link && post.link.type === 'youtube' && post.link.url\"\r\n    :src=\"`https://www.youtube.com/embed/${getYouTubeId(post.link.url)}`\"\r\n    class=\"w-full aspect-video rounded-xl mt-2\"\r\n    allowfullscreen>\r\n</iframe>\r\n\r\n<!-- Open Photo Post Media  sinayun_xyn 1h ago ) -->\r\n\r\n<div\r\n  ref=\"scrollContainer\"\r\n  class=\"flex gap-2 overflow-x-auto no-scrollbar snap-x snap-mandatory cursor-pointer\"\r\n>\r\n  <component\r\n    v-for=\"(media, i) in post.media\"\r\n    :key=\"i\"\r\n    :is=\"media.type.startsWith('video') ? 'video' : 'img'\"\r\n    :src=\"media.url\"\r\n    class=\"rounded-xl flex-shrink-0 snap-start hover:brightness-75 transition h-72 object-contain\"\r\n    controls\r\n    @click=\"openMediaModal(media, post.media)\"/>\r\n</div>\r\n\r\n<!-- Media Fullscreen Viewer with Navigation -->\r\n  <div\r\n  v-if=\"selectedMedia\"\r\n  class=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80\"\r\n  @touchstart=\"handleTouchStart\"\r\n  @touchend=\"handleTouchEnd\">\r\n\r\n\r\n\r\n<!-- Close -->\r\n <button\r\n  @click=\"closeMediaModal\"\r\n  class=\"cursor-pointer\r\n   absolute top-4 right-4 z-50 text-white bg-black bg-opacity-60 p-2 rounded-full hover:bg-opacity-80\">\r\n<Icon icon=\"mdi:close\" class=\"w-6 h-6 text-white\" />\r\n</button>\r\n\r\n<!-- Icon Prev -->\r\n \r\n<button\r\nv-if=\"selectedIndex > 0\"\r\n        @click.stop=\"prevMedia\"\r\n        class=\"cursor-pointer absolute left-4 top-1/2 z-50 transform -translate-y-1/2 bg-black bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80\">\r\n      <Icon icon=\"ooui:previous-ltr\" class=\"w-6 h-6 text-white\" />\r\n      </button>\r\n\r\n      <!-- Icon Next -->\r\n      <button\r\n        v-if=\"selectedIndex < activePostMedia.length - 1\"\r\n        @click.stop=\"nextMedia\"\r\n        class=\"cursor-pointer absolute right-4 top-1/2 -translate-y\">\r\n        <Icon icon=\"ooui:next-ltr\" class=\"w-6 h-6 text-white\" />\r\n      </button>\r\n\r\n    <!-- Media Viewer -->\r\n      <component\r\n        :is=\"selectedMedia.type.startsWith('video') ? 'video' : 'img'\"\r\n        :src=\"selectedMedia.url\"\r\n        class=\"max-w-full max-h-[90vh] object-contain rounded-xl\"\r\n        controls\r\n        autoplay/>\r\n    </div>\r\n  \r\n<!-- Media Fullscreen Viewer with Navigation -->\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- Post Actions  ICon heart comment share -->\r\n<div class=\"flex items-center gap-4 text-gray-500 text-sm mt-4 mb-10\">\r\n      \r\n<!-- Like -->\r\n\r\n<div class=\"flex items-center gap-4 cursor-pointer hover:text-red-500\"\r\n @click=\"toggleLike(index)\">\r\n\r\n <!--Heart Like RedColor-->\r\n \r\n<Icon :icon=\"post.liked ? 'fluent-emoji:red-heart' : 'octicon:heart-24'\"\r\n class=\"w-5 h-5\" />\r\n\r\n<p>{{ formatCount(post.likes||[]) }}</p>\r\n</div>\r\n\r\n<!-- Comment -->\r\n<div class=\"flex items-center gap-4 cursor-pointer hover:text-blue-500\"\r\n @click=\"toggleCommentSection(index)\">\r\n<Icon icon=\"tdesign:chat-bubble\" class=\"w-5 h-5\"/>\r\n<p>{{ formatCount(post.commentsList?.length ||[]) }}</p>\r\n</div>  \r\n <div>\r\n\r\n\r\n\r\n       \r\n<!-- Share Plan Icon Button and Dropdown -->\r\n\r\n<div class=\"relative\">\r\n<button \r\n@click.stop=\"showRepostPopup = true\" \r\n class=\"p-2 hover:text-gray-500 relative z-10  duration-100 \">\r\n<Icon icon=\"mage:direction-up-right-2\" class=\"w-5 h-5\"/> <!-- Air Plan Share Popup -->\r\n</button>\r\n\r\n<!-- Teleported Popup -->\r\n<teleport to=\"body\">\r\n<div \r\n v-if=\"showRepostPopup\" \r\nclass=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n@click=\"closePopup\">\r\n<!-- Popup Content -->\r\n<div \r\nclass=\"bg-white rounded-xl p-4 w-[420px] relative\"\r\n@click.stop>\r\n<!-- Header -->\r\n\r\n<div class=\"flex justify-between items-center mb-3\">\r\n<h2 class=\"text-lg font-bold\">\r\niFeed\r\n</h2>\r\n<button\r\n @click=\"closePopup\" class=\"text-gray-500 hover:text-black\"> \r\n<Icon icon=\"ri:close-line\"/>\r\n</button>\r\n</div>\r\n\r\n<!-- Post Input -->                                                                                                                                        <!-- Repost Button  -->\r\n<div class=\"flex items-center space-x-3 mb-4\">\r\n<img :src=\"currentUser.avatar\" class=\"w-10 h-10 rounded-full\" />\r\n<input type=\"text\" placeholder=\"Write something...\" class=\"flex-1 border rounded px-2 py-1\" />\r\n</div>\r\n\r\n<!-- Sent to Friend -->\r\n<div class=\"mb-4\">\r\n<p class=\"font-semibold mb-1\">\r\n  Sent to Friend\r\n</p>\r\n<div class=\"flex space-x-2\">\r\n<img\r\n v-for=\"(friend, index) in friends\" :key=\"index\" :src=\"friend\"\r\n  class=\"w-10 h-10 rounded-full\" />\r\n</div>\r\n</div>\r\n\r\n<!-- Share To -->\r\n \r\n<div>\r\n<p class=\"font-semibold mb-1\">Share To</p>\r\n<div class=\"flex space-x-4\">\r\n<button class=\"flex flex-col items-center text-sm\">\r\n<Icon icon=\"ri:link\" class=\"w-10 h-10\"/>\r\n<span>Copy</span>\r\n</button>\r\n<button class=\"flex flex-col items-center text-sm\">\r\n  <Icon icon=\"logos:telegram\" class=\"w-10 h-10\"/>\r\n<span>\r\n  Telegram\r\n</span>\r\n</button>\r\n<button class=\"flex flex-col items-center text-sm\">\r\n  <Icon icon=\"logos:facebook\" class=\"w-10 h-10\"/>\r\n<span>Facebook</span>\r\n</button>\r\n<button class=\"flex flex-col items-center text-sm item-center\">\r\n<Icon icon=\"tdesign:chat-bubble\"\r\n class=\"w-10 h-10 text-white \r\n transition-colors bg-green-500 \r\n border-4 border-green-500 rounded-xl\r\n  duration-200 hover:text-gray-600\"/>\r\n<span>iFeed</span>\r\n</button>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n</teleport>\r\n\r\n \r\n\r\n</div>\r\n\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n \r\n\r\n\r\n\r\n <!-- Comment Reply Box -->\r\n  <div v-if=\"post.showComments\" \r\n  class=\"max-w-sl rounded-full mx-auto px-4 py-4\">\r\n\r\n    <!-- View All Toggle -->\r\n  <div\r\n    class=\"text-gray-400 text-sm mb-1 cursor-pointer hover:text-gray-500\"\r\n   @click=\"post.viewAll = !post.viewAll\">\r\n   All {{countTotalComments (post.commentsList) }} comments \r\n  </div>\r\n\r\n  <!-- Comment List -->\r\n  <CommentCard\r\n  v-for=\"(comment, i) in post.viewAll ? post.commentsList :\r\n   post.commentsList.slice(0, 1)\"\r\n  :key=\"i\"\r\n  :comment=\"comment\"\r\n  :depth=\"0\"\r\n  :current-user=\"currentUser\"\r\n  @reply-added=\"updateCommentCount\"/>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- Add New Comment -->\r\n \r\n<div v-if=\"!post.commentsDisabled\" class=\"mt-4\">\r\n\r\n  <div class=\"flex gap-3 items-start\">\r\n    <img :src=\"currentUser.avatar\" class=\"w-10 h-10 rounded-full border-2 flex-shrink-0\" />\r\n\r\n    <div class=\"flex-1 relative\">\r\n      <textarea\r\n        v-model=\"post.newComment\"\r\n        placeholder=\"Write a comment...\"\r\n        class=\"w-full px-12 py-3 pr-16 text-sm bg-gray-100 rounded-2xl resize-none\r\n        focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n        rows=\"1\"\r\n        @input=\"autoResize($event)\"\r\n        @keyup.enter.exact.prevent=\"addCommentToPost(index)\">\r\n      </textarea>\r\n\r\n      <!-- Emoji Button -->\r\n      <button\r\n        class=\"absolute left-3 bottom-3 text-gray-500 hover:text-blue-500 py-2\"\r\n        @click.stop=\"toggleEmojiPicker(index)\">\r\n        <Icon icon=\"proicons:emoji\" class=\"w-5 h-5\" />\r\n      </button>\r\n\r\n      <!-- Photo Upload -->\r\n      <label \r\n      class=\"absolute right-12 bottom-3 cursor-pointer text-gray-500 hover:text-blue-500\">\r\n        <Icon icon=\"tabler:photo\" class=\"w-5 h-5\" />\r\n        <input type=\"file\" accept=\"image/*,video/*\" \r\n        class=\"hidden\" @change=\"addCommentImage($event, index)\"/>\r\n      </label>\r\n\r\n      <!-- Send Button -->\r\n      <button\r\n        v-if=\"post.newComment?.trim() || post.commentMedia?.length\"\r\n        class=\"absolute right-3 bottom-3 text-blue-500 hover:text-blue-600\"\r\n        @click=\"addCommentToPost(index)\">\r\n        <Icon icon=\"famicons:paper-plane-outline\" class=\"w-6 h-6\" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Attached Media Preview -->\r\n  <div v-if=\"post.commentMedia?.length\" class=\"mt-3 flex flex-wrap gap-2\">\r\n    <div v-for=\"(media, i) in post.commentMedia\" :key=\"i\" class=\"relative\">\r\n      <component\r\n        :is=\"media.type.startsWith('video') ? 'video' : 'img'\"\r\n        :src=\"media.url\"\r\n        class=\"w-24 h-24 object-cover rounded-lg border\"\r\n        controls />\r\n      <button\r\n        @click.stop=\"removeCommentMedia(index, i)\"\r\n        class=\"absolute top-1 right-1 bg-black/60 text-white rounded-full p-1\">\r\n        <Icon icon=\"mdi:close\" class=\"w-4 h-4\" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  \r\n\r\n  <!-- Emoji Picker -->\r\n  <div v-if=\"showEmojiPickerIndex === index\" class=\"relative\">\r\n    <div class=\"absolute bottom-full right-0 mb-2 z-50\" @click.stop>\r\n      <EmojiPicker @select=\"emoji => addEmojiToComment(emoji, index)\" />\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>\r\n</div>\r\n</div>   \r\n<!--When  Post a Composer Bottom -->\r\n </main>\r\n\r\n   \r\n<!-- Right Sidebar Suggestions -->\r\n<aside class=\"w-72 bg-white border-l p-10 hidden xl:block sticky top-0 h-screen overflow-y-auto\">\r\n\r\n\r\n\r\n\r\n\r\n<!-- Profile Box with Heart Icon -->\r\n<div class=\"flex items-center justify-between mb-32\">\r\n  <div class=\"flex items-center gap-5\">\r\n  <img :src=\"currentUser.avatar\"\r\n  alt=\"Profile\"\r\n  class=\"w-16 h-16 rounded-full object-cover border-4\" />\r\n  <div>\r\n  <button @click=\"goToProfileUser\" class=\"font-medium text-blue-600 hover:text-gray-800\">\r\n  View profile\r\n  </button>\r\n    \r\n  <p class=\"text-sm text-gray-500\">{{ currentUser.name }}</p>\r\n  </div>\r\n  </div>\r\n\r\n<!-- Heart Button that redirects to Chat.vue -->\r\n<button @click=\"togglechat\" class=\"text-xl hover:text-blue-600\">\r\n<Icon\r\nicon=\"basil:comment-outline\"  class=\"w-6 h-6 transition\"/>\r\n</button>\r\n</div>\r\n\r\n<teleport to=\"body\">\r\n<transition name=\"slide-in\">\r\n<ChatPanel\r\nv-if=\"showChatPopup\" \r\n:friends=\"suggestedFriends\"\r\n:selectedUser=\"selectedUser\"\r\n@close=\"showChatPopup = false\"\r\n@friend-selected=\"handleFriendSelected\"/>\r\n</transition>\r\n</teleport>\r\n\r\n\r\n\r\n      \r\n<div class=\"flex justify-between items-center mb-12 \">\r\n<h2 class=\"font-semibold text-gray-800 hover:text-blue-600 \">\r\nSuggested for you</h2>\r\n\r\n<button @click=\"ShowAll\" class=\"text-sm text-gray-500 hover:text-blue-600\" >\r\nShow All</button>\r\n</div>\r\n<ul class=\"space-y-4\">\r\n <li\r\nv-for=\"user in suggestedUsers\"\r\n :key=\"user.id\"\r\n  class=\"flex items-start gap-2 hover:bg-gray-50 p-2 rounded \">\r\n  <img\r\n  :src=\"user.avatar\"\r\n  alt=\"suggested\"\r\n  class=\"w-10 h-10 rounded-full border-2 border-purple-600\"/>\r\n  <div class=\"flex flex-col\">\r\n  <span class=\"text-sm font-medium text-gray-700\">{{ user.username }}</span>\r\n  <button \r\n  class=\"w-20 text-sm font-medium text-blue-600 py-1 rounded hover:text-gray-700 transition duration-200\">\r\n   Follow\r\n  </button>\r\n  </div>\r\n  </li>\r\n  </ul>\r\n  \r\n<!--  Add Copyright Box -->\r\n<div class=\" mt-8 text-center text-xs text-gray-400\">\r\nÂ© 2025 iFeed. All rights reserved.\r\nTeamDevOP.Sihanouk Ville City.Cambodia \r\n</div>\r\n</aside>\r\n\r\n\r\n\r\n\r\n\r\n<!-- OPEN STORY MODAL -->\r\n<div\r\n  v-if=\"activeStory\"\r\n  class=\"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]\"\r\n  @click.self=\"closeStory\">\r\n\r\n  <!-- PHONE FRAME -->\r\n  <div\r\n    class=\"relative w-[90vw] max-w-[430px] aspect-[9/16]\r\n    bg-black rounded-2xl overflow-hidden shadow-2xl\">\r\n\r\n    <!-- MEDIA NON INTERACTIVE) -->\r\n  \r\n<div class=\"absolute inset-0 z-0\">\r\n  <component\r\n    :is=\"activeStory.type === 'video' ? 'video' : 'img'\"\r\n    :src=\"activeStory.media\"\r\n    class=\"w-full h-full object-cover pointer-events-none\"\r\n    v-bind=\"activeStory.type === 'video'\r\n      ? { autoplay: true, muted: true, loop: true, playsinline: true }\r\n      : {}\"\r\n  />\r\n</div>\r\n\r\n\r\n    <!-- TOP OVERLAY: Avatar + Username + Time + Close -->\r\n    <div class=\"absolute inset-x-0 top-0 p-3 z-20\">\r\n      <!-- Progress Bar -->\r\n      <div class=\"h-1 w-full bg-white/20 rounded mb-3\">\r\n        <div class=\"h-full bg-white rounded\" :style=\"{ width: progress + '%' }\"></div>\r\n      </div>\r\n\r\n      <!-- Avatar, Username, Time -->\r\n      <div class=\"flex items-center justify-between\">\r\n        <div class=\"flex items-center gap-2 text-white\">\r\n          <!-- Avatar -->\r\n          <img\r\n            :src=\"activeStory.avatar\"\r\n            alt=\"Poster Avatar\"\r\n            class=\"w-8 h-8 rounded-full ring-2 ring-purple-500\" />\r\n          <!-- Username + Time -->\r\n          <div class=\"leading-tight\">\r\n            <p class=\"text-sm font-semibold\">{{ activeStory.username }}</p>\r\n            <p class=\"text-[11px] text-white/70\">{{ activeStory.time }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Close Button -->\r\n        <button @click=\"closeStory\" class=\"p-2 hover:bg-white/10 rounded-full\">\r\n          <Icon icon=\"material-symbols:close\" class=\"w-5 h-5 text-white\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- CLICK ZONES (LOWER LAYER) -->\r\n    <button\r\n      @click=\"prevStory\"\r\n      class=\"absolute left-0 top-0 h-full w-1/4 z-10\">\r\n  </button>\r\n\r\n    <button\r\n      @click=\"nextStory\"\r\n      class=\"absolute right-0 top-0 h-full w-1/4 z-10\">\r\n      \r\n  </button>\r\n\r\n    <!-- LEFT ARROW (CLICKABLE) -->\r\n    <button\r\n      @click=\"prevStory\"\r\n      class=\"absolute left-3 top-1/2 -translate-y-1/2 z-40\r\n      p-2 rounded-full bg-black/30 hover:bg-black/50\">\r\n      <Icon icon=\"ooui:next-rtl\" class=\"w-6 h-6 text-white\" />\r\n    </button>\r\n\r\n    <!-- RIGHT ARROW (CLICKABLE) -->\r\n    <button\r\n      @click=\"nextStory\"\r\n      class=\"absolute right-3 top-1/2 -translate-y-1/2 z-40\r\n      p-2 rounded-full bg-black/30 hover:bg-black/50\">\r\n      <Icon icon=\"ooui:next-ltr\" class=\"w-6 h-6 text-white\" />\r\n    </button>\r\n\r\n    <!-- BOTTOM COMPOSER -->\r\n    <div class=\"absolute inset-x-0 bottom-0 p-4 z-50\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <input\r\n          v-model=\"replyText\"\r\n          type=\"text\"\r\n          placeholder=\"Send message...\"\r\n          class=\"flex-1 bg-white/90 text-[13px]\r\n                 rounded-full px-4 py-2 outline-none\"\r\n          @keydown.enter.prevent=\"sendReply\"/>\r\n\r\n<!-- Heart Button -->\r\n<button\r\n  @click=\"toggleLike\"\r\n  class=\"p-2 rounded-full hover:bg-white/20 transition-colors\">\r\n  <Icon\r\n    icon=\"solar:heart-linear\"\r\n    :class=\"[\r\n      'w-5 h-5 transition-transform transition-colors',\r\n      activeStory.liked ? 'text-red-500 scale-125' : 'text-white scale-100'\r\n    ]\"\r\n  />\r\n</button>\r\n\r\n\r\n        <button\r\n          class=\"p-2 rounded-full bg-white/10 hover:bg-white/20\"\r\n          @click=\"sendReply\">\r\n          <Icon icon=\"meteor-icons:paper-plane\" class=\"w-5 h-5 text-white\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n</div>\r\n  \r\n <!-- Story Modal -->\r\n\r\n</template>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { nextTick } from 'vue';\r\nimport { Icon } from '@iconify/vue';\r\nimport EmojiPicker from 'vue3-emoji-picker';\r\nimport 'vue3-emoji-picker/css';\r\nimport CommentCard from '@/components/CommentCard.vue';\r\nimport Notify from '@/components/Notify.vue';\r\nimport ChatPanel from '@/components/ChatPanel.vue';\r\nimport story1 from '@/assets/mini.jpg';\r\nimport story2 from '@/assets/Khmer.jpg';\r\nimport story3 from '@/assets/sinayun_xyn.jpg';\r\nimport story4 from '@/assets/jena8.jpg';\r\nimport story5 from '@/assets/story2.jpg';\r\nimport sinayun from '@/assets/mini1.jpg';\r\nimport FriendSearch from '@/components/FriendSearch.vue'\r\nimport aesp from '@/assets/aesp.jpg';\r\n\r\n\r\n\r\n\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    FriendSearch,\r\n    Notify,\r\n    Icon,\r\n    EmojiPicker,\r\n    CommentCard,\r\n    ChatPanel,\r\n    name: 'PostComposer',\r\n\r\n  },\r\n \r\n  data() {\r\n    return {\r\n      following:[], // stores userIds you follow\r\n\r\n      showSearch: false,\r\n      searchQuery: '',\r\n      showResults: false,\r\n\r\n      postLink:  null,\r\n      //Story\r\n      composerType: null, // null | 'post' | 'story'\r\n      uploadedFiles: [],\r\n\r\n\r\n      \r\n  \r\n  \r\n\r\n\r\n  \r\n \r\n      \r\n\r\n      showLikes: false,\r\n      showNotify: false,\r\n      notifications: [],\r\n      media:[], //store uplouad post\r\n      currentIndex:0,  // for slide post \r\n      newPost: '',\r\n      showEmojiPickerIndex: false,\r\n      mediaPreviews: [],\r\n      activeStory: null,\r\n      currentStoryIndex: null,\r\n      autoCloseTimer: null,\r\n      activeMenuIndex: null,\r\n      editingIndex: null,\r\n      editedCaption: '',\r\n      storyScrollRef: null,\r\n      sharePopupRefs: [],\r\n      showShareModal: false,\r\n      activeSharedPostIndex: null,\r\n\r\n      showLocation: false,\r\n      postLocation: '',\r\n      replyCommentVisible: false,\r\n      touchStartX: 0,\r\n      touchEndX: 0,\r\n      selectedMedia: null,\r\n      selectedIndex: 0,\r\n      activePostMedia: [],\r\n      activePreview: null,\r\n      scrollContainer: null,\r\n      showLocationPopup: false,\r\n      locationInput: '',\r\n      \r\n      suggestions: [\r\n      { name: 'Phnom Penh', desc: 'Cambodia' },\r\n      { name: 'Siem Reap', desc: 'Angkor Wat' },\r\n      { name: 'Kampot', desc: 'Riverside town' },                                              //Location Limit\r\n      ],\r\n\r\n\r\n      locationInputRef: null,\r\n      tags: [],\r\n      showMentionList: false,\r\n      mentionQuery: '',\r\n      filteredUsers: [],\r\n      textareaRef: null,\r\n      users: [\r\n      { name: 'sinayun' },\r\n      { name: 'nayun' },\r\n      { name: 'nita_lovekhmer' },\r\n      { name: 'chakriya' },\r\n      { name: 'konkhmer' },\r\n       { id: 1, username: 'sinayun', avatar: sinayun },\r\n\r\n  // Foller\r\n  { id: 2, username: 'nayun', avatar: story2 },\r\n  { id: 3, username: 'nita_lovekhmer', avatar: story3 },\r\n  { id: 4, username: 'chakriya', avatar: story4 },\r\n  { id: 5, username: 'konkhmer', avatar: story5 },\r\n\r\n  {\r\n    id: 'u_2',\r\n    username: 'nayun_ndo',\r\n    followers: ['u_1', 'u_4'],\r\n  },\r\n      ],\r\n     \r\n      showPostModal: false,\r\n      showChatPopup: false,\r\n      selectedUser: {},\r\n\r\n      suggestedFriends: [\r\n        { id: 1, name: 'nita_lovekhmer', time: '01:12 PM', avatar: story1 },\r\n        { id: 2, name: 'áá¶áá¸_lovekhmer', time: '06:16 AM', avatar: story2 },\r\n        { id: 3, name: 'ycn_lovekhm', time: '01:12 PM', avatar: story3 },\r\n        { id: 4, name: 'Konsreypov', time: '1:12 PM', avatar: story4 },\r\n        { id: 5, name: 'Kon_Khmer', time: '1:12 PM', avatar: story5 },\r\n      ],\r\n      showSettings: false,\r\n      showRepostPopup: null, \r\n\r\n//FriendSearch\r\n\r\n      friends: [\r\n       { id: 1, username: 'Sina yun ', avatar: story1},\r\n        { id: 2, username: 'Putyhy ', avatar: story2 },\r\n        { id: 3, username: 'oun mean', avatar: story3 },\r\n        { id: 4, username: 'Yun sina', avatar: story4 },\r\n      ], \r\n        \r\n      \r\n      //Show repost \r\n      showSharePopup: null,                                                                        \r\n  \r\n      replyText: '',\r\n\r\n\r\n\r\n// Story \r\n\r\n    stories: [\r\n  { id:1, username:'nayun', avatar: sinayun, media: story1, type:'image', time:'1h ago', liked: false },\r\n  { id: 2, username: 'user_2', media: story2, type: 'video', time: '2h ago', liked: false },\r\n  { id: 3, username: 'user_3', media: story3, type: 'image', time: '3h ago', liked: false },\r\n  { id: 4, username: 'user_4', media: story4, type: 'image', time: '3h ago', liked: false },\r\n  { id: 5, username: 'user_5', media: story5, type: 'image', time: '3h ago', liked: false },\r\n  { id: 6, username: 'user_6', media: story5, type: 'image', time: '3h ago', liked: false },\r\n  { id: 7, username: 'user_1', media: story1, type: 'image', time: '1h ago', liked: false },\r\n  { id: 8, username: 'Konsreypov', media: story1, type: 'image', time: '1h ago', liked: false },\r\n],\r\n\r\n\r\n\r\n\r\n      suggestedUsers: [\r\n        { id: 1, avatar: sinayun, username: 'nita_lovekhmer' },\r\n        { id: 2, avatar: story2, username: 'áá¶áá¸_lovekhmer' },\r\n        { id: 3, avatar: story3, username: 'Chakriya_konsreypov' },\r\n        { id: 4, avatar: story4, username: 'ycn_lovekhm' },\r\n        { id: 5, avatar: story5, username: 'Kon_Khmer' },     \r\n      ],\r\n      currentUser: {\r\n      name: 'sinayun_xyn',\r\n      avatar: story4,\r\n      username: 'myUsername',\r\n \r\n      },\r\n\r\n//Post\r\n      posts: [\r\n        {\r\n          id: 1,\r\n          userId:'u_2',\r\n          user: 'nayun_ndo',\r\n          avatar: aesp,\r\n          caption: 'A design room for myself',\r\n          media: [{ url: story5, type: 'image' }],\r\n          time: '1h ago',\r\n          likes: 0,\r\n          shares: 0,\r\n          liked: false,\r\n          isFollowing: false, //Follow in post\r\n          showComments: false,\r\n          showShare: false,\r\n          newComment: '',\r\n          commentMedia: [],\r\n          commentsList: [],\r\n          commentsDisabled: false,\r\n        \r\n        },\r\n        {\r\n          id: 2,\r\n          userId:'u_3',\r\n          user: 'nita_lovekhmer',\r\n          avatar: story2,\r\n          caption: 'My girlfriend so cute ',\r\n          media: [{ url: story3, type: 'image' }],\r\n          time: '1m ago',\r\n          likes: 999,\r\n          isFollowing: false, //Follow in post\r\n          shares: 0,\r\n          liked: false,\r\n          showComments: false,\r\n          showShare: false,\r\n          newComment: '',\r\n          commentsList: [],\r\n          commentsDisabled: false,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n   \r\n    \r\n  \r\n\r\n//Show Result Search \r\n\r\ncomputed: {\r\n\r\n\r\n\r\n  filteredSearchUsers() {\r\n    if (!this.searchQuery) return [];\r\n    return this.users.filter(u =>\r\n      u.username.toLowerCase().includes(this.searchQuery.toLowerCase())\r\n    );\r\n  }\r\n},\r\n\r\n  \r\n\r\n  \r\n  //Method \r\n  methods: {\r\n    // Improved async link detection\r\n  async handlePostInput() {\r\n    // Keep any existing mention logic\r\n    this.handleMentionInput?.();\r\n\r\n    const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\r\n    const match = this.newPost.match(urlRegex);\r\n\r\n    if (match) {\r\n      const url = match[0].trim();\r\n\r\n      // Avoid re-processing the same URL\r\n      if (this.postLink?.url === url) return;\r\n\r\n      // Show loading state (optional, but nice UX)\r\n      this.postLink = { url, type: 'loading' };\r\n\r\n      const enrichedLink = await this.detectLinkType(url);\r\n      this.postLink = enrichedLink;\r\n    } else {\r\n      this.postLink = null;\r\n    }\r\n  },\r\n\r\n  async detectLinkType(url) {\r\n    // Clean trailing punctuation\r\n    let cleanUrl = url.replace(/\\.,;!?]+$/, '');\r\n\r\n    // YouTube detection\r\n    if (cleanUrl.includes('youtube.com') || cleanUrl.includes('youtu.be')) {\r\n      return { url: cleanUrl, type: 'youtube' };\r\n    }\r\n\r\n    // Use Microlink.io API â works without API key (free daily quota)\r\n    try {\r\n      const response = await fetch(`https://api.microlink.io/?url=${encodeURIComponent(cleanUrl)}`);\r\n      const data = await response.json();\r\n\r\n      if (data.data) {\r\n        const info = data.data;\r\n        return {\r\n          url: info.url || cleanUrl,\r\n          type: 'website',\r\n          title: info.title || null,\r\n          description: info.description || null,\r\n          image: info.image?.url || info.screenshot?.url || null, // fallback to screenshot if no og:image\r\n          domain: new URL(info.url || cleanUrl).hostname.replace('www.', '')\r\n        };\r\n      }\r\n    } catch (err) {\r\n      console.log('Link preview failed:', err);\r\n    }\r\n\r\n    // Final fallback\r\n    try {\r\n      const domain = new URL(cleanUrl).hostname.replace('www.', '');\r\n      return {\r\n        url: cleanUrl,\r\n        type: 'website',\r\n        title: domain.charAt(0).toUpperCase() + domain.slice(1),\r\n        description: cleanUrl,\r\n        image: null,\r\n        domain\r\n      };\r\n    } catch {\r\n      return { url: cleanUrl, type: 'website', title: 'Link', description: '', image: null, domain: 'unknown' };\r\n    }\r\n  },\r\n\r\n\r\n\r\n\r\n    //Story Add composer\r\n  \r\n    \r\n\r\n  //commment Uploaod Post\r\n \r\n addCommentImage(event, index) {\r\n  const file = event.target.files[0];\r\n  if (!file) return;\r\n\r\n  const post = this.posts[index];\r\n  if (!post.commentMedia) {\r\n    this.$set\r\n      ? this.$set(post, 'commentMedia', [])\r\n      : (post.commentMedia = []);\r\n  }\r\n\r\n  post.commentMedia.push({\r\n    url: URL.createObjectURL(file),\r\n    type: file.type\r\n  });\r\n\r\n  event.target.value = '';\r\n},\r\n\r\n\r\n\r\n getYouTubeId(url) {\r\n    const regExp = /^.*((youtu.be\\/)|(v\\/)|(u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n    const match = url.match(regExp);\r\n    return match && match[7].length === 11 ? match[7] : null;\r\n  },\r\n\r\n  handleCommentMediaUpload(event, index) {\r\n  const files = Array.from(event.target.files)\r\n  const post = this.posts[index]\r\n\r\n  // SAFETY\r\n  if (!post.commentMedia) {\r\n    this.$set(post, 'commentMedia', [])\r\n  }\r\n\r\n  files.forEach(file => {\r\n    post.commentMedia.push({\r\n      url: URL.createObjectURL(file),\r\n      type: file.type.startsWith('video') ? 'video' : 'image'\r\n    })\r\n  })\r\n\r\n  event.target.value = ''\r\n},\r\n  \r\n  //Link post \r\n//Youtube\r\n\r\n \r\n\r\n\r\n//toglle User \r\n\r\n  toggleFollowUser(userId) {\r\n  if (userId === this.currentUser.id) return;\r\n\r\n  const user = this.users.find(u => u.id === userId);\r\n  if (!user) return;\r\n\r\n  user.followers ||= [];\r\n\r\n  const i = this.following.indexOf(userId);\r\n\r\n  if (i === -1) {\r\n    this.following.push(userId);\r\n    user.followers.push(this.currentUser.id);\r\n  } else {\r\n    this.following.splice(i, 1);\r\n    user.followers = user.followers.filter(id => id !== this.currentUser.id);\r\n  }\r\n},\r\n//Comment\r\ntoggleMenu(index) {\r\n  this.activeMenuIndex =\r\n    this.activeMenuIndex === index ? null : index;\r\n},\r\n\r\n\r\n    //Follow in post\r\n    toggleFollow(index) {\r\n  const post = this.posts[index];\r\n\r\n  // prevent following yourself \r\n  if (post.user === this.currentUser.name) return;\r\n\r\n  post.isFollowing = !post.isFollowing;\r\n},\r\n\r\n     toggleSearch() {\r\n      this.showSearch = !this.showSearch\r\n    },\r\n\r\n    closeIfEmpty() {\r\n      if (!this.searchQuery) {\r\n        this.showSearch = false\r\n      }\r\n    },\r\n\r\n\r\n\r\n    handleSearch() {\r\n      console.log('Search:', this.searchQuery)\r\n    },\r\n    onSearchFocus() {\r\n  this.showResults = true;\r\n},\r\n\r\nselectSearchUser(user) {\r\n  this.searchQuery = '';\r\n  this.showResults = false;\r\n  this.showSearch = false;\r\n\r\n  // go to user profile\r\n  this.$router.push(`/profile/${user.username}`);\r\n},\r\n\r\n\r\n    //Heart Notify\r\n    listenRealtime() {\r\n      // Example: real-time push\r\n      setInterval(() => {\r\n        const newNotification = {\r\n          id: Date.now(),\r\n          userId: 3,\r\n          username: \"new_user\",\r\n          action: \"Love your post\",\r\n          time: new Date().toLocaleTimeString(),\r\n          avatar: \"\" // friend Lisdt here \r\n        };\r\n\r\n        this.notifications.unshift(newNotification);\r\n      }, 5000);\r\n    },\r\n\r\n//Notify popup\r\n   openLikesPopup() {\r\n      console.log(\"Heart clicked\"); \r\n      this.showLikes = true;\r\n  },  \r\n\r\n      goToMainfeed() {\r\n        window.location.reload();\r\n      },\r\n\r\n   goToProfileUser(){\r\n    this.$router.push('/profile'); //Go to Profile\r\n\r\n   },\r\n   goLogin(){\r\n    this.$router.push('/'); //Go to Profile\r\n\r\n   },\r\n    handleTouchStart(e) {\r\n      this.touchStartX = e.changedTouches[0].screenX;\r\n    },\r\n    handleTouchEnd(e) {\r\n      this.touchEndX = e.changedTouches[0].screenX;\r\n      this.handleSwipe();\r\n    },\r\n    handleSwipe() {\r\n      const distance = this.touchEndX - this.touchStartX;\r\n      if (distance > 50) this.prevMedia();\r\n      if (distance < -50) this.nextMedia();\r\n    },\r\n    openMediaModal(media, mediaList) {\r\n      this.activePostMedia = mediaList;\r\n      this.selectedIndex = mediaList.findIndex((m) => m.url === media.url);\r\n      this.selectedMedia = this.activePostMedia[this.selectedIndex];\r\n    },\r\n    closeMediaModal() {\r\n      this.selectedMedia = null;\r\n      this.selectedIndex = 0;\r\n      this.activePostMedia = [];\r\n    },\r\n    nextMedia() {\r\n      if (this.selectedIndex < this.activePostMedia.length - 1) {\r\n        this.selectedIndex++;\r\n        this.selectedMedia = this.activePostMedia[this.selectedIndex];\r\n      }\r\n    },\r\n    prevMedia() {\r\n      if (this.selectedIndex > 0) {\r\n        this.selectedIndex--;\r\n        this.selectedMedia = this.activePostMedia[this.selectedIndex];\r\n      }\r\n    },\r\n    handleKeydown(e) {\r\n      if (!this.selectedMedia) return;\r\n      if (e.key === 'ArrowRight') this.nextMedia();\r\n      if (e.key === 'ArrowLeft') this.prevMedia();\r\n      if (e.key === 'Escape') this.closeMediaModal();\r\n    },\r\n    openPreview(media) {\r\n      this.activePreview = media;\r\n    },\r\n    closePreview() {\r\n      this.activePreview = null;\r\n    },\r\n\r\n\r\n\r\n    removeMedia(index) {\r\n      this.mediaPreviews.splice(index, 1);\r\n    },\r\n\r\n//Remove Comment\r\nremoveCommentMedia(postIndex, mediaIndex) {\r\n  const post = this.posts[postIndex];\r\n  if (post.commentMedia && post.commentMedia[mediaIndex]) {\r\n    URL.revokeObjectURL(post.commentMedia[mediaIndex].url);\r\n    post.commentMedia.splice(mediaIndex, 1);\r\n  }\r\n},\r\n\r\n\r\n handleFileUpload(e) {\r\n\r\n\r\n   const files = Array.from(e.target.files);\r\n\r\n  // map files to preview objects\r\n  const newFiles = files.map((file) => ({\r\n  url: URL.createObjectURL(file),\r\n  type: file.type,          // e.g., \"image/jpeg\" or \"video/mp4\"\r\n  raw: file,\r\n  name: file.name,\r\n  size: file.size\r\n  }));\r\n\r\n  // append to mediaPreviews\r\n  this.mediaPreviews.push(...newFiles);\r\n},\r\n\r\n  removeFile(index) {\r\n      URL.revokeObjectURL(this.mediaPreviews[index].url)\r\n      this.mediaPreviews.splice(index, 1)\r\n  },\r\n\r\n\r\n\r\n\r\nhandleDrop(e) {\r\n  const files = Array.from(e.dataTransfer.files);\r\n  this.mediaPreviews = files.map((file) => ({\r\n    url: URL.createObjectURL(file),\r\n    type: file.type,\r\n  }));\r\n},\r\n\r\n\r\n//Emoji Post \r\n     togglePostEmojiPicker() {\r\n      this.showPostEmojiPicker = !this.showPostEmojiPicker\r\n    },\r\n\r\n    EmojiToPost(emoji) {\r\n      this.newPost += emoji.i\r\n      this.showPostEmojiPicker = false\r\n    },\r\n\r\n\r\ntoggleEmojiPicker(index) {\r\n this.showEmojiPickerIndex = this.showEmojiPickerIndex === index ? null : index;\r\n  this.showEmojiPickerIndex === index ? null : index;\r\n},\r\n\r\n//add Emoji commet\r\naddEmojiToComment(emoji, index) {\r\n  this.showEmojiPickerIndex === index ? null : index\r\n  if (!this.posts[index].newComment) {\r\n    this.posts[index].newComment = '';\r\n  }\r\n\r\n  this.posts[index].newComment += emoji.i;\r\n  this.showEmojiPickerIndex = null;\r\n},\r\n\r\n\r\n\r\n\r\n// Submit Post \r\n  submitPost() {\r\n\r\n//Story Commposer \r\n if (!this.newPost.trim() && this.mediaPreviews.length === 0 && !this.postLink) {\r\n    alert('Please add text or media before submitting.');\r\n    return;\r\n  }\r\n\r\n  if (this.composerType === 'story') {\r\n    // === STORY ONLY ===\r\n    this.stories.unshift({\r\n      id: Date.now(),\r\n      username: this.currentUser.username,\r\n      avatar: this.currentUser.avatar,\r\n      media: this.mediaPreviews[0]?.url || '',\r\n      type: this.mediaPreviews[0]?.type.startsWith('video') ? 'video' : 'image',\r\n      time: 'Just now',\r\n      liked: false,\r\n    });\r\n\r\n    this.$nextTick(() => {\r\n      const container = this.$refs.storyScrollRef;\r\n      if (container) container.scrollLeft = 0;\r\n    });\r\n\r\n    // Reset everything\r\n    this.resetComposer();\r\n    return; // â VERY IMPORTANT: Stop here, don't create a post!\r\n  }\r\n\r\n  // REGULAR POST ONLY \r\n  const linkCopy = this.postLink ? { ...this.postLink } : null;\r\n\r\n  const newPostObj = {\r\n    id: Date.now(),\r\n    user: this.currentUser.name,\r\n    avatar: this.currentUser.avatar,\r\n    location: this.postLocation.trim(),\r\n    caption: this.newPost,\r\n    media: this.mediaPreviews.map(preview => ({\r\n    url: preview.url,\r\n    type: preview.type\r\n    })),\r\n    link: linkCopy,\r\n    time: 'Just now',\r\n    likes: 0,\r\n    shares: 0,\r\n    liked: false,\r\n    isFollowing: false,\r\n    showComments: false,\r\n    newComment: '',\r\n    commentMedia: [],\r\n    commentsList: [],\r\n    commentsDisabled: false,\r\n    viewAll: false,\r\n  };\r\n\r\n  this.posts.unshift(newPostObj);\r\n\r\n  // Reset\r\n  this.resetComposer();\r\n},\r\n\r\nresetComposer() {\r\n \r\n  this.newPost = '';\r\n  this.postLocation = '';\r\n  this.postLink = null;\r\n  this.composerType = null;\r\n  this.showPostModal = false;\r\n},\r\n\r\n\r\n\r\n    countTotalComments(comments) {\r\n      let count = 0;\r\n      for (const comment of comments) {\r\n        count++;\r\n        if (comment.replies?.length) {\r\n          count += this.countTotalComments(comment.replies);\r\n          \r\n        }\r\n      }\r\n      return count;\r\n    },\r\n\r\n\r\n\r\n\r\n// Toggle Like \r\n    toggleLike(index) {\r\n      const post = this.posts[index];\r\n      post.liked = !post.liked;\r\n      post.likes += post.liked ? 1 : -1;\r\n\r\n      //story like Heart\r\n      if (!this.activeStory) return;\r\n    // Toggle active story\r\n    this.activeStory.liked = !this.activeStory.liked;\r\n\r\n    // Optional update the main stories array to persist\r\n    this.stories[this.currentStoryIndex].liked = this.activeStory.liked;\r\n    },\r\n\r\n\r\n    toggleSharePopup(index) {\r\n      this.posts[index].showShare = !this.posts[index].showShare;\r\n    },\r\n\r\n    addCommentToPost(index) {\r\n      const post = this.posts[index];\r\n      const text = post.newComment.trim();\r\n      if (!text) return;\r\n      if (!Array.isArray(post.commentsList)) post.commentsList = [];\r\n      if (!Array.isArray(post.commentMedia)) post.commentMedia = [];\r\n\r\n      post.commentsList.push({\r\n        user: this.currentUser.name,\r\n        avatar: this.currentUser.avatar || this.defaultAvatar,\r\n        text,\r\n        media: [...post.commentMedia],\r\n        time:'Just now',\r\n        liked: false,\r\n        replies: [],\r\n      });\r\n      post.newComment = '';\r\n      post.commentMedia = []; //Preview imgae\r\n    },\r\n    autoResize(event) {\r\n      const el = event.target;\r\n      el.style.height = 'auto';\r\n      el.style.height = el.scrollHeight + 'px';\r\n    },\r\n\r\n\r\n  //Location\r\n    getLocation() {\r\n      this.showLocationPopup = true;\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => {\r\n            const { latitude, longitude } = pos.coords;\r\n            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`)\r\n              .then((res) => res.json())\r\n              .then((data) => {\r\n                this.locationInput =\r\n                  data.address.city ||\r\n                  data.address.town ||\r\n                  data.address.village ||\r\n                  'Unknown';\r\n              })\r\n              .catch((err) => {\r\n                this.locationInput = 'Location error';\r\n                console.error(err);\r\n              });\r\n          },\r\n          (error) => {\r\n            console.error('Geolocation error:', error.message);\r\n            this.locationInput = 'Permission denied';\r\n          }\r\n        );\r\n      } else {\r\n        this.locationInput = 'Geolocation not supported';\r\n      }\r\n    },\r\n    confirmLocation() {\r\n      this.postLocation = this.locationInput;\r\n      this.showLocationPopup = false;\r\n      this.locationInput = '';\r\n    },\r\n    closeLocation() {\r\n      this.showLocationPopup = false;\r\n    },\r\n    pickSuggestion(s) {\r\n      this.locationInput = s.name;\r\n      this.confirmLocation();\r\n    },\r\n    formatCount(num) {\r\n      if (num >= 1000000000) return (num / 1000000000).toFixed(1) + 'B';\r\n      if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\r\n      if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\r\n      return num.toString();\r\n    },\r\n    updateCommentCount() {\r\n      console.log('Reply added!');\r\n    },\r\n\r\n\r\ntoggleCommentSection(index) {\r\n    this.posts[index].showComments = !this.posts[index].showComments;\r\n\r\n  // close menu if open\r\n  this.activeMenuIndex = null;\r\n},\r\n\r\n\r\ntoggleComment(index) {\r\n  this.posts[index].commentsDisabled =\r\n  !this.posts[index].commentsDisabled;\r\n\r\n  this.activeMenuIndex = null; // close menu\r\n},\r\n\r\n    confirmDelete(index) {\r\n      this.posts.splice(index, 1);\r\n      this.activeMenuIndex = null;\r\n    },\r\n    startEditPost(index) {\r\n      this.editingIndex = index;\r\n      this.editedCaption = this.posts[index].caption;\r\n      this.activeMenuIndex = null;\r\n    },\r\n    saveEditedPost(index) {\r\n      this.posts[index].caption = this.editedCaption;\r\n      this.editingIndex = null;\r\n    },\r\n    cancelEdit() {\r\n      this.editingIndex = null;\r\n    },\r\n\r\n\r\n\r\n\r\n     // Scrolling Story Next icon \r\n     scrollStories(direction) {\r\n    const el = this.$refs.storyScrollRef;\r\n    if (!el) return;\r\n\r\n    const scrollAmount = 120; // width of one story card\r\n\r\n    if (direction === 'left') {\r\n      el.scrollBy({ left: -scrollAmount, behavior: 'smooth' });\r\n    } else {\r\n      el.scrollBy({ left: scrollAmount, behavior: 'smooth' });\r\n    }\r\n  },\r\n\r\n  //Story  Disable arrows at edges \r\n    canScrollLeft() {\r\n    const el = this.$refs.storyScrollRef;\r\n    return el && el.scrollLeft > 0;\r\n  },\r\n  canScrollRight() {\r\n    const el = this.$refs.storyScrollRef;\r\n    return el && el.scrollLeft + el.clientWidth < el.scrollWidth;\r\n  },\r\n\r\n\r\n\r\n\r\n    //Story open\r\n    openStory(index) {\r\n      this.currentStoryIndex = index;\r\n      this.activeStory = this.stories[index];\r\n      this.activeStory = this.stories[index];\r\n    this.progress = 0; // reset progress\r\n    },\r\n\r\n    //Story close\r\n    closeStory() {\r\n      this.activeStory = null;\r\n      clearTimeout(this.autoCloseTimer);\r\n      this.progress = 0;\r\n    },\r\n    \r\n    //Story next\r\n    nextStory() {\r\n      if (this.currentStoryIndex < this.stories.length - 1) {\r\n        this.openStory(this.currentStoryIndex + 1);\r\n      } else {\r\n        this.closeStory();\r\n      }\r\n    },\r\n\r\n    //Story pre\r\n    prevStory() {\r\n      if (this.currentStoryIndex > 0) {\r\n        this.openStory(this.currentStoryIndex - 1);\r\n      }\r\n    },\r\n\r\n    //Sotry\r\n    sendReply() {\r\n      const text = this.replyText.trim();\r\n      if (!text) return;\r\n      this.replyText = '';\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    copyLink() {\r\n      navigator.clipboard.writeText(window.location.href).then(() => {\r\n        alert('Link copied to ');\r\n      });\r\n    },\r\n    shareToFacebook() {\r\n      const url = encodeURIComponent(window.location.href);\r\n      const fbUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;\r\n      window.open(fbUrl, '_blank', 'width=600,height=600');\r\n    },\r\n    shareToTelegram() {\r\n      const url = encodeURIComponent(window.location.href);\r\n      const tgUrl = `https://t.me/share/url?url=${url}`;\r\n      window.open(tgUrl, '_blank', 'width=600,height=600');\r\n    },\r\n    shareToMessenger() {\r\n      const url = encodeURIComponent(window.location.href);\r\n      const appId = 'FACEBOOK_APP_ID';\r\n      const msgUrl = `https://www.messenger.com/dialog/send?link=${url}&app_id=${appId}&redirect_uri=${url}`;\r\n      window.open(msgUrl, '_blank', 'width=600,height=600');\r\n    },\r\n\r\n\r\n  // Outside Click\r\n   handleClickOutside(event) {\r\n      const wrapper = this.$refs.emojiWrapper;\r\n      if (wrapper && !wrapper.contains(event.target)) {\r\n        this.showEmojiPickerIndex = false;\r\n      }\r\n    },\r\n\r\n\r\n    handleOutsideClick(event) {\r\n    // Close Emoji Picker\r\n    const emojiPickers = this.$refs.emojiPickerRefs || [];\r\n    if (!emojiPickers.some(ref => ref.contains(event.target))) {\r\n      this.showEmojiPickerIndex = false;\r\n    }\r\n\r\n    // Close Post Menu\r\n    const menus = this.$refs.postMenuRefs || [];\r\n    if (!menus.some(ref => ref.contains(event.target))) {\r\n      this.activeMenuIndex = null;\r\n    }\r\n\r\n    // Close Settings\r\n    const settings = this.$refs.settingsRef;\r\n    if (settings && !settings.contains(event.target)) {\r\n      this.showSettings = false;\r\n    }\r\n\r\n    // Close Share Popup\r\n    const sharePopup = this.$refs.sharePopupRef;\r\n    if (sharePopup && !sharePopup.contains(event.target)) {\r\n      this.showShareModal = false;\r\n    }\r\n  },\r\n\r\n    \r\n    OffComment(index) {\r\n      this.posts[index].commentsDisabled = true;\r\n      this.activeMenuIndex = null;\r\n    },\r\n    copylink(index) {\r\n      const postId = this.posts[index].id;\r\n      const postUrl = `${window.location.origin}/post/${postId}`;\r\n      navigator.clipboard.writeText(postUrl).then(() => {\r\n        alert('Link copied!');\r\n      });\r\n    },\r\n    shareTo(index) {\r\n      this.activeSharedPostIndex = index;\r\n      this.showShareModal = true;\r\n    },\r\n    toggleReplyComment() {\r\n      this.replyCommentVisible = !this.replyCommentVisible;\r\n    },\r\n    handleInput(e) {\r\n      const cursorPos = e.target.selectionStart;\r\n      const textUpToCursor = this.newPost.substring(0, cursorPos);\r\n      const mentionMatch = textUpToCursor.match(/@(\\w*)$/);\r\n      if (mentionMatch) {\r\n        this.mentionQuery = mentionMatch[1].toLowerCase();\r\n        this.filteredUsers = this.users.filter((user) =>\r\n          user.name.toLowerCase().startsWith(this.mentionQuery)\r\n        );\r\n        this.showMentionList = this.filteredUsers.length > 0;\r\n      } else {\r\n        this.showMentionList = false;\r\n      }\r\n    },\r\n    selectMention(username) {\r\n      nextTick(() => {\r\n        const textarea = this.textareaRef;\r\n        if (!textarea) return;\r\n        const cursorPos = textarea.selectionStart;\r\n        const textBeforeCursor = this.newPost.substring(0, cursorPos);\r\n        const textAfterCursor = this.newPost.substring(cursorPos);\r\n        const newTextBeforeCursor = textBeforeCursor.replace(/@\\w*$/, '@' + username + ' ');\r\n        this.newPost = newTextBeforeCursor + textAfterCursor;\r\n        nextTick(() => {\r\n          textarea.selectionStart = textarea.selectionEnd = newTextBeforeCursor.length;\r\n          textarea.focus();\r\n        });\r\n        this.showMentionList = false;\r\n      });\r\n    },\r\n  \r\n    switchTab(tab) {\r\n      this.activeTab = tab;\r\n    },\r\n\r\n\r\n    openPostModal() {\r\n        //Story\r\n      this.composerType = null\r\n      this.uploadedFiles = [],\r\n       this.showPostModal = true\r\n      this.composerType = null\r\n      this.newPost = ''\r\n      this.mediaPreviews = []\r\n      \r\n      //\r\n\r\n      this.showPostModal = true;\r\n      nextTick(() => {\r\n        const textarea = document.querySelector('textarea[placeholder=\"What\\'s on your mind?\"]');\r\n        textarea?.focus();\r\n      });\r\n    },\r\n\r\n    \r\n    closePostModal() {\r\n  // Revoke only on cancel\r\n  this.mediaPreviews.forEach(preview => URL.revokeObjectURL(preview.url));\r\n  this.mediaPreviews = [];\r\n  this.newPost = '';\r\n  this.postLocation = '';\r\n  this.postLink = null;\r\n  this.composerType = null;\r\n  this.showPostModal = false;\r\n  \r\n    },\r\n//FriensSearch\r\n handleAddFriend(user) {\r\n      console.log('Add friend:', user)\r\n },\r\n\r\n    handleFriendSelected(friend) {\r\n      this.selectedUser = friend;\r\n    },\r\n    togglechat() {\r\n      this.showChatPopup = !this.showChatPopup;\r\n    },\r\n    toggleSettings() {\r\n      this.showSettings = !this.showSettings;\r\n    },\r\n    closePopup() {\r\n      this.showRepostPopup = false;\r\n    },\r\n  },\r\n\r\n\r\n\r\n  watch: {\r\n    newPost(newVal, oldVal) {\r\n    //  URL \r\n    if (newVal !== oldVal) {\r\n      this.handlePostInput();\r\n    }\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    selectedMedia(newVal) {\r\n      if (newVal) {\r\n        window.addEventListener('keydown', this.handleKeydown);\r\n      } else {\r\n        window.removeEventListener('keydown', this.handleKeydown);\r\n      }\r\n    },\r\n    activeStory(story) {\r\n      clearTimeout(this.autoCloseTimer);\r\n      if (story) {\r\n        this.autoCloseTimer = setTimeout(() => {\r\n          this.nextStory();\r\n        }, 5000);\r\n      }\r\n    },\r\n    showLocationPopup(on) {\r\n      if (on) {\r\n        nextTick(() => {\r\n          this.locationInputRef?.focus();\r\n        });\r\n      }\r\n    },\r\n  },\r\n\r\n\r\n\r\n  mounted() {\r\n\r\n    // this.listenRealtime();\r\n    document.addEventListener('click', this.handleClickOutside);\r\n    this.posts = this.posts.map((post) => ({\r\n      ...post,\r\n      liked: false,\r\n      isFollowing:false, //Follow post\r\n      showComments: false,\r\n      showShare: false,\r\n      \r\n      newComment: '',\r\n      commentsList: post.commentsList || [],\r\n      commentMedia: post.commentMedia || [],\r\n      viewAll: false,\r\n    }));\r\n  },\r\n  unmounted() {\r\n    document.removeEventListener('click', this.handleOutsideClick);\r\n    clearTimeout(this.autoCloseTimer);\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n/* Hide scrollbar for all browsers */\r\n.no-scrollbar::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.no-scrollbar {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n/*comment css*/\r\ntextarea {\r\n  overflow: hidden;\r\n  resize: none;\r\n}á\r\n\r\n/*PopupChat*/\r\n.slide-in-enter-active {\r\n  transition: transform 0.3s ease;\r\n}\r\n.slide-in-leave-active {\r\n  transition: transform 0.3s ease;\r\n}\r\n.slide-in-enter-from {\r\n  transform: translateX(100%);\r\n}\r\n.slide-in-leave-to {\r\n  transform: translateX(100%);\r\n}\r\n/* Smooth textarea height animation */\r\ntextarea {\r\n  transition: all 0.2s ease;\r\n  min-height: 44px;\r\n  max-height: 120px;\r\n  overflow-y: auto !important;\r\n}\r\n\r\n/* Hide scrollbar but keep functionality */\r\ntextarea::-webkit-scrollbar {\r\n  display: none;\r\n}\r\ntextarea {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n\r\n\r\n</style>                  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}